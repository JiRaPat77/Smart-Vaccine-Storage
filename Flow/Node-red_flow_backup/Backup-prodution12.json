[
    {
        "id": "2ad8c2a186dad0d1",
        "type": "tab",
        "label": "production012",
        "disabled": true,
        "info": "",
        "env": []
    },
    {
        "id": "fd882991d7dfc26a",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 1",
        "func": "msg.payload += Buffer.from(\"0D\", \"hex\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 2280,
        "wires": [
            [
                "2849fac76750be8a"
            ]
        ]
    },
    {
        "id": "f4e305a138ba0843",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "at",
        "payloadType": "str",
        "x": 310,
        "y": 2160,
        "wires": [
            [
                "fd882991d7dfc26a"
            ]
        ]
    },
    {
        "id": "2849fac76750be8a",
        "type": "serial out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "serial": "35bdc2c895af1a09",
        "x": 770,
        "y": 2280,
        "wires": []
    },
    {
        "id": "78c637fa2fe02aff",
        "type": "serial in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "serial": "35bdc2c895af1a09",
        "x": 770,
        "y": 2340,
        "wires": [
            [
                "0f3442c2eaf05c11"
            ]
        ]
    },
    {
        "id": "0f3442c2eaf05c11",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 920,
        "y": 2340,
        "wires": []
    },
    {
        "id": "f337154eb6c563f6",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "atd0863229170;",
        "payloadType": "str",
        "x": 340,
        "y": 2220,
        "wires": [
            [
                "fd882991d7dfc26a"
            ]
        ]
    },
    {
        "id": "a0ac5b2d1ef7c1d1",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "AT+QCFG=\"usbnet\",1",
        "payloadType": "str",
        "x": 360,
        "y": 2280,
        "wires": [
            [
                "fd882991d7dfc26a"
            ]
        ]
    },
    {
        "id": "6ed820d48641d107",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "AT+CGDCONT=1,\"IP\",\"internet\"",
        "payloadType": "str",
        "x": 310,
        "y": 2340,
        "wires": [
            [
                "fd882991d7dfc26a"
            ]
        ]
    },
    {
        "id": "452ba28e05702d80",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "AT+CFUN=1,1",
        "payloadType": "str",
        "x": 340,
        "y": 2400,
        "wires": [
            [
                "fd882991d7dfc26a"
            ]
        ]
    },
    {
        "id": "315662144e66b2b1",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "180",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 1090,
        "y": 540,
        "wires": [
            [
                "75dd582243c0aaf7"
            ]
        ]
    },
    {
        "id": "f40c74028d569215",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/temp1",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 2780,
        "y": 540,
        "wires": []
    },
    {
        "id": "5855c03ba55dede8",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/hum1",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 2730,
        "y": 380,
        "wires": []
    },
    {
        "id": "55f2fbb4999af18b",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/temp2",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 2780,
        "y": 900,
        "wires": []
    },
    {
        "id": "7b0ea8365d0e9dc2",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/hum2",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 2710,
        "y": 740,
        "wires": []
    },
    {
        "id": "22e3c98bb18333ca",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/temp3",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 2740,
        "y": 1320,
        "wires": []
    },
    {
        "id": "ec64089776c26447",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/hum3",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 2710,
        "y": 1160,
        "wires": []
    },
    {
        "id": "3f8ce5f84a70cb92",
        "type": "file in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "filename": "no1",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 590,
        "y": 2760,
        "wires": [
            [
                "1c62045169bfd005"
            ]
        ]
    },
    {
        "id": "fc9a2b87104e74a8",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 3",
        "func": "msg.payload += Buffer.from(\"0D\", \"hex\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 2760,
        "wires": [
            [
                "eaa510205e6738b5"
            ]
        ]
    },
    {
        "id": "eaa510205e6738b5",
        "type": "serial out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "serial": "35bdc2c895af1a09",
        "x": 1090,
        "y": 3140,
        "wires": []
    },
    {
        "id": "2b1cd6bbce7a64c6",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 320,
        "y": 3060,
        "wires": [
            [
                "1c62045169bfd005",
                "3f8ce5f84a70cb92"
            ]
        ]
    },
    {
        "id": "1c62045169bfd005",
        "type": "delay",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 600,
        "y": 2820,
        "wires": [
            [
                "a30a5c9198c321eb",
                "9c7c1c1ab8136572"
            ]
        ]
    },
    {
        "id": "a30a5c9198c321eb",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 4",
        "func": "msg.payload = \"ATH\";\nmsg.payload += Buffer.from(\"0D\", \"hex\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 2820,
        "wires": [
            [
                "eaa510205e6738b5"
            ]
        ]
    },
    {
        "id": "4535a2a2eb1e3664",
        "type": "file in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "filename": "no2",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 590,
        "y": 2940,
        "wires": [
            [
                "4ab93e0367cc44e2"
            ]
        ]
    },
    {
        "id": "29ba9567fb77488e",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 5",
        "func": "msg.payload += Buffer.from(\"0D\", \"hex\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 2940,
        "wires": [
            [
                "eaa510205e6738b5"
            ]
        ]
    },
    {
        "id": "4ab93e0367cc44e2",
        "type": "delay",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 600,
        "y": 3000,
        "wires": [
            [
                "dae021ed32dfd693",
                "0a52a06c376be9e0"
            ]
        ]
    },
    {
        "id": "dae021ed32dfd693",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 6",
        "func": "msg.payload = \"ATH\";\nmsg.payload += Buffer.from(\"0D\", \"hex\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 3000,
        "wires": [
            [
                "eaa510205e6738b5"
            ]
        ]
    },
    {
        "id": "9c7c1c1ab8136572",
        "type": "delay",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 600,
        "y": 2880,
        "wires": [
            [
                "4535a2a2eb1e3664"
            ]
        ]
    },
    {
        "id": "833f440e41d8b62b",
        "type": "file in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "filename": "no3",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 590,
        "y": 3120,
        "wires": [
            [
                "8d14671a7524c2fa"
            ]
        ]
    },
    {
        "id": "f6111cbcb01f1457",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 7",
        "func": "msg.payload += Buffer.from(\"0D\", \"hex\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 3120,
        "wires": [
            [
                "eaa510205e6738b5"
            ]
        ]
    },
    {
        "id": "8d14671a7524c2fa",
        "type": "delay",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 600,
        "y": 3180,
        "wires": [
            [
                "62a62472665366f7",
                "1f15452fccacee28"
            ]
        ]
    },
    {
        "id": "62a62472665366f7",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 8",
        "func": "msg.payload = \"ATH\";\nmsg.payload += Buffer.from(\"0D\", \"hex\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 3180,
        "wires": [
            [
                "eaa510205e6738b5"
            ]
        ]
    },
    {
        "id": "0a52a06c376be9e0",
        "type": "delay",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 600,
        "y": 3060,
        "wires": [
            [
                "833f440e41d8b62b"
            ]
        ]
    },
    {
        "id": "1b6be37a1a92e1b0",
        "type": "file in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "filename": "no4",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 590,
        "y": 3300,
        "wires": [
            [
                "b7aef8994a265def"
            ]
        ]
    },
    {
        "id": "db46cb6655289b9a",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 9",
        "func": "msg.payload += Buffer.from(\"0D\", \"hex\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 3300,
        "wires": [
            [
                "eaa510205e6738b5"
            ]
        ]
    },
    {
        "id": "b7aef8994a265def",
        "type": "delay",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 600,
        "y": 3360,
        "wires": [
            [
                "6a939a462a4401bb",
                "51fe48dd03bb6f66"
            ]
        ]
    },
    {
        "id": "6a939a462a4401bb",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 10",
        "func": "msg.payload = \"ATH\";\nmsg.payload += Buffer.from(\"0D\", \"hex\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 3360,
        "wires": [
            [
                "eaa510205e6738b5"
            ]
        ]
    },
    {
        "id": "1f15452fccacee28",
        "type": "delay",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 600,
        "y": 3240,
        "wires": [
            [
                "1b6be37a1a92e1b0"
            ]
        ]
    },
    {
        "id": "daafd47c428b7cd1",
        "type": "file in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "filename": "no5",
        "filenameType": "str",
        "format": "utf8",
        "chunk": false,
        "sendError": false,
        "encoding": "none",
        "allProps": false,
        "x": 590,
        "y": 3480,
        "wires": [
            [
                "4dcef75916ce8b8a"
            ]
        ]
    },
    {
        "id": "506ff75441ccd161",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 11",
        "func": "msg.payload += Buffer.from(\"0D\", \"hex\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 3480,
        "wires": [
            [
                "eaa510205e6738b5"
            ]
        ]
    },
    {
        "id": "4dcef75916ce8b8a",
        "type": "delay",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "pauseType": "delay",
        "timeout": "20",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 600,
        "y": 3540,
        "wires": [
            [
                "6bc8483597d41826"
            ]
        ]
    },
    {
        "id": "6bc8483597d41826",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 12",
        "func": "msg.payload = \"ATH\";\nmsg.payload += Buffer.from(\"0D\", \"hex\");\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 880,
        "y": 3540,
        "wires": [
            [
                "eaa510205e6738b5"
            ]
        ]
    },
    {
        "id": "51fe48dd03bb6f66",
        "type": "delay",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "seconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "allowrate": false,
        "outputs": 1,
        "x": 600,
        "y": 3420,
        "wires": [
            [
                "daafd47c428b7cd1"
            ]
        ]
    },
    {
        "id": "0c4322e019cee2ac",
        "type": "mqtt in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "Supan_device_Status",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0aec914a7a32d5b2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1900,
        "y": 4800,
        "wires": [
            [
                "aac965caaeae6aa7",
                "ab3184bf6421b2f6"
            ]
        ]
    },
    {
        "id": "aac965caaeae6aa7",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "sts",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2090,
        "y": 4800,
        "wires": [
            [
                "8486b07f4e04c459"
            ]
        ]
    },
    {
        "id": "5e6f183f79134b09",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "Supan_device_Status",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 2480,
        "y": 4640,
        "wires": []
    },
    {
        "id": "8486b07f4e04c459",
        "type": "change",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2240,
        "y": 4800,
        "wires": [
            [
                "5e6f183f79134b09",
                "3b92bb7ed0d73d8d",
                "125026099ac7a084",
                "a1ee9c072e7d8d6a",
                "b94a25956bd738d3"
            ]
        ]
    },
    {
        "id": "5abef1abfaf53b07",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "humidity",
        "func": "var data=msg.payload;\nvar out={};\nout[\"humidity\"]= ((data[3]<< 8) + data[4])/10;\nmsg.payload=out.humidity;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2040,
        "y": 380,
        "wires": [
            [
                "5855c03ba55dede8",
                "faa60f475eba4ec5"
            ]
        ]
    },
    {
        "id": "a583ef13f8b2557b",
        "type": "serial request",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "serial": "9d01c0808e829406",
        "x": 1880,
        "y": 900,
        "wires": [
            [
                "b22737b2120c9c5b",
                "cee6a253587ec227",
                "1ccf1afaf94bc253",
                "78aa9b75a7ea0808",
                "c1269babb7e70dde",
                "1753b9104c91d8f3"
            ]
        ]
    },
    {
        "id": "dd0635b53cf93043",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 14",
        "func": "msg.payload = Buffer.from(msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1720,
        "y": 900,
        "wires": [
            [
                "a583ef13f8b2557b"
            ]
        ]
    },
    {
        "id": "b22737b2120c9c5b",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "humidity",
        "func": "var data=msg.payload;\nvar out={};\nout[\"humidity\"]= ((data[3]<< 8) + data[4])/10;\nmsg.payload=out.humidity;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2100,
        "y": 740,
        "wires": [
            [
                "7b0ea8365d0e9dc2",
                "b066026a5ebb47b5"
            ]
        ]
    },
    {
        "id": "1d3f89dbb657b2c1",
        "type": "modbus-crc16",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "x": 1520,
        "y": 900,
        "wires": [
            [
                "dd0635b53cf93043"
            ]
        ]
    },
    {
        "id": "2ad98e51b5be37cf",
        "type": "serial request",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "serial": "9d01c0808e829406",
        "x": 1860,
        "y": 1320,
        "wires": [
            [
                "a0fe7c84346ec353",
                "dbc793898ae205d9",
                "62b646478a5896a9",
                "f83abec844821850",
                "8d02eed73d34ad4c"
            ]
        ]
    },
    {
        "id": "ca12dcc5b834f651",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 15",
        "func": "msg.payload = Buffer.from(msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1700,
        "y": 1320,
        "wires": [
            [
                "2ad98e51b5be37cf"
            ]
        ]
    },
    {
        "id": "a0fe7c84346ec353",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "temp",
        "func": "var data=msg.payload;\nvar out={};\nif (data[5] == 65280)\n{ \nout[\"temp\"]= -data[6] /10;\n}\nif (data[5] == 0)\n{\nout[\"temp\"]=  data[6]/10;\n}\nmsg.payload = out;\ncontext.set('temperatureArray', out.temp);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2070,
        "y": 1320,
        "wires": [
            [
                "e7cb27825db80bd7",
                "3734f39307d41fb4",
                "8687fcf7fe394272"
            ]
        ]
    },
    {
        "id": "dbc793898ae205d9",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "humidity",
        "func": "var data=msg.payload;\nvar out={};\nout[\"humidity\"]= ((data[3]<< 8) + data[4])/10;\nmsg.payload=out.humidity;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2100,
        "y": 1160,
        "wires": [
            [
                "ec64089776c26447",
                "6b2c9d2006feae15"
            ]
        ]
    },
    {
        "id": "5843ca5909592d07",
        "type": "modbus-crc16",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "x": 1520,
        "y": 1320,
        "wires": [
            [
                "ca12dcc5b834f651"
            ]
        ]
    },
    {
        "id": "b0f41cc5eebd1d5a",
        "type": "rpi-gpio out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "pin": "18",
        "set": true,
        "level": "1",
        "freq": "",
        "out": "out",
        "bcm": true,
        "x": 920,
        "y": 2600,
        "wires": []
    },
    {
        "id": "a8b0226d95829e43",
        "type": "serial request",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "serial": "9d01c0808e829406",
        "x": 2400,
        "y": 1780,
        "wires": [
            [
                "ab4e8abb88bf4f61",
                "91bec57ba41d5f8a",
                "0f1e85694233f67b",
                "d7fd04fae653b4a1",
                "14294df13abbc63a"
            ]
        ]
    },
    {
        "id": "ab4e8abb88bf4f61",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Voltage",
        "func": "var data=msg.payload;\nvar out={};\nout[\"voltage\"]= ((data[3]<< 8) + data[4])/10;\nmsg.payload = out;\ncontext.set('voltageArray', out);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2580,
        "y": 1600,
        "wires": [
            [
                "d4234a6931eca472",
                "78eb09f52595358c"
            ]
        ]
    },
    {
        "id": "91bec57ba41d5f8a",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Current",
        "func": "var data=msg.payload;\nvar out={};\nout[\"current\"]= ((data[5]<< 8) + data[6])/1000;\nmsg.payload=out;\ncontext.set('currentArray', out);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2600,
        "y": 1780,
        "wires": [
            [
                "8a4102fa1c42035f",
                "7165b1a0d04c6302"
            ]
        ]
    },
    {
        "id": "0f1e85694233f67b",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Power",
        "func": "var data=msg.payload;\nvar out={};\nout[\"power\"]= ((data[9]<< 8) + data[10])/10;\nmsg.payload = out;\ncontext.set('powerArray', out.power);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2570,
        "y": 1960,
        "wires": [
            [
                "73f1350a33eb74ca",
                "58cb737a4d030138"
            ]
        ]
    },
    {
        "id": "7b1659ab2a16c91e",
        "type": "serial request",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "serial": "9d01c0808e829406",
        "x": 2380,
        "y": 2540,
        "wires": [
            [
                "751d92395a271b02",
                "d7fa096bbbdbb205",
                "6f4771dbd936d0a7",
                "e06c9ecb179aa082",
                "039aba892874db87"
            ]
        ]
    },
    {
        "id": "751d92395a271b02",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Voltage",
        "func": "var data=msg.payload;\nvar out={};\nout[\"voltage\"]= ((data[3]<< 8) + data[4])/10;\nmsg.payload=out;\ncontext.set('voltageArray', out);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2560,
        "y": 2340,
        "wires": [
            [
                "a2b78c2df535259f",
                "f4cc989340312f07"
            ]
        ]
    },
    {
        "id": "d7fa096bbbdbb205",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Current",
        "func": "var data=msg.payload;\nvar out={};\nout[\"current\"]= ((data[5]<< 8) + data[6])/1000;\nmsg.payload=out;\ncontext.set('currentArray', out);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2560,
        "y": 2540,
        "wires": [
            [
                "3fd9dc5b4bf14cc9",
                "71afc8b0b8c97892"
            ]
        ]
    },
    {
        "id": "6f4771dbd936d0a7",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Power",
        "func": "var data=msg.payload;\nvar out={};\nout[\"power\"]= ((data[9]<< 8) + data[10])/10;\nmsg.payload=out;\ncontext.set('powerArray', out.power);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2550,
        "y": 2800,
        "wires": [
            [
                "c5db5c14161e49e6",
                "f48837088dc4b4a9"
            ]
        ]
    },
    {
        "id": "ef9f9054eb4c3c96",
        "type": "serial request",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "serial": "9d01c0808e829406",
        "x": 2360,
        "y": 3460,
        "wires": [
            [
                "62d6021b1438602d",
                "da722acd4ad01ddd",
                "21370694ecdb2213",
                "3a645f07ea4238d0"
            ]
        ]
    },
    {
        "id": "62d6021b1438602d",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Voltage",
        "func": "var data=msg.payload;\nvar out={};\nout[\"voltage\"]= ((data[3]<< 8) + data[4])/10;\nmsg.payload=out;\ncontext.set('voltageArray', out);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2540,
        "y": 3240,
        "wires": [
            [
                "b8ce4c46e1d1db73",
                "f1f51684beac0a4f"
            ]
        ]
    },
    {
        "id": "da722acd4ad01ddd",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Current",
        "func": "var data=msg.payload;\nvar out={};\nout[\"current\"]= ((data[5]<< 8) + data[6])/1000;\nmsg.payload=out;\ncontext.set('currentArray', out);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2560,
        "y": 3460,
        "wires": [
            [
                "1710a3233daa6caa",
                "86ca1f1b14728ce8"
            ]
        ]
    },
    {
        "id": "21370694ecdb2213",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Power",
        "func": "var data=msg.payload;\nvar out={};\nout[\"power\"]= ((data[9]<< 8) + data[10])/10;\nmsg.payload=out;\ncontext.set('powerArray', out.power);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2530,
        "y": 3700,
        "wires": [
            [
                "6d7231bb49e23332",
                "e84ab6da93e921bc"
            ]
        ]
    },
    {
        "id": "62b646478a5896a9",
        "type": "python-function-ps",
        "z": "2ad8c2a186dad0d1",
        "name": "Current",
        "pythonPathType": "local",
        "pythonPath": "python3",
        "globalPythonName": "",
        "importPathList": [
            "/home/pi/Modbus_RTU_Relay_Code/Python3"
        ],
        "fnCodePre": "\n# user code here.\n",
        "fnCode": "\nimport time\n    \ncmd = [0, 0, 0, 0, 0, 0]\n\ncmd[0] = 0x1c  #Device address 0c,1c,2c,3c,4c\ncmd[1] = 4  #command   \ncmd[2] = 0\ncmd[3] = 0  \ncmd[4] = 0\ncmd[5] = 0x0a\n#crc = pycrc.ModbusCRC(cmd[0:5])\n##cmd[6] = crc & 0xFF\n#cmd[7] = crc >> 8\nprint (cmd)\ntime.sleep(0.2)\nmsg[\"payload\"] = cmd        \nreturn msg\n",
        "fnCodePost": "\n# user code here.\n",
        "x": 2040,
        "y": 1780,
        "wires": [
            [
                "63596e4f7b7778d9"
            ]
        ]
    },
    {
        "id": "d7fd04fae653b4a1",
        "type": "python-function-ps",
        "z": "2ad8c2a186dad0d1",
        "name": "Current",
        "pythonPathType": "local",
        "pythonPath": "python3",
        "globalPythonName": "",
        "importPathList": [
            "/home/pi/Modbus_RTU_Relay_Code/Python3"
        ],
        "fnCodePre": "\n# user code here.\n",
        "fnCode": "\nimport time\n    \ncmd = [0, 0, 0, 0, 0, 0]\n\ncmd[0] = 0x2c  #Device address 0c,1c,2c,3c,4c\ncmd[1] = 4  #command   \ncmd[2] = 0\ncmd[3] = 0  \ncmd[4] = 0\ncmd[5] = 0x0a\n#crc = pycrc.ModbusCRC(cmd[0:5])\n##cmd[6] = crc & 0xFF\n#cmd[7] = crc >> 8\nprint (cmd)\ntime.sleep(0.2)\nmsg[\"payload\"] = cmd        \nreturn msg\n",
        "fnCodePost": "\n# user code here.\n",
        "x": 2020,
        "y": 2540,
        "wires": [
            [
                "5d88a6a236eb1e83"
            ]
        ]
    },
    {
        "id": "e06c9ecb179aa082",
        "type": "python-function-ps",
        "z": "2ad8c2a186dad0d1",
        "name": "Current",
        "pythonPathType": "local",
        "pythonPath": "python3",
        "globalPythonName": "",
        "importPathList": [
            "/home/pi/Modbus_RTU_Relay_Code/Python3"
        ],
        "fnCodePre": "\n# user code here.\n",
        "fnCode": "\nimport time\n    \ncmd = [0, 0, 0, 0, 0, 0]\n\ncmd[0] = 0x3c  #Device address 0c,1c,2c,3c,4c\ncmd[1] = 4  #command   \ncmd[2] = 0\ncmd[3] = 0  \ncmd[4] = 0\ncmd[5] = 0x0a\n#crc = pycrc.ModbusCRC(cmd[0:5])\n##cmd[6] = crc & 0xFF\n#cmd[7] = crc >> 8\nprint (cmd)\ntime.sleep(0.2)\nmsg[\"payload\"] = cmd        \nreturn msg\n",
        "fnCodePost": "\n# user code here.\n",
        "x": 2000,
        "y": 3460,
        "wires": [
            [
                "c267d9f4c805bcc4"
            ]
        ]
    },
    {
        "id": "63596e4f7b7778d9",
        "type": "modbus-crc16",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "x": 2220,
        "y": 1780,
        "wires": [
            [
                "a8b0226d95829e43"
            ]
        ]
    },
    {
        "id": "5d88a6a236eb1e83",
        "type": "modbus-crc16",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "x": 2200,
        "y": 2540,
        "wires": [
            [
                "7b1659ab2a16c91e"
            ]
        ]
    },
    {
        "id": "c267d9f4c805bcc4",
        "type": "modbus-crc16",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "x": 2180,
        "y": 3460,
        "wires": [
            [
                "ef9f9054eb4c3c96"
            ]
        ]
    },
    {
        "id": "2f861648b5f923b0",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/cur1",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 3810,
        "y": 1780,
        "wires": []
    },
    {
        "id": "cd74243d504413bb",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/vol1",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 3810,
        "y": 1600,
        "wires": []
    },
    {
        "id": "2f738c18bbd973ab",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/pow1",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 3150,
        "y": 2060,
        "wires": []
    },
    {
        "id": "8260da02b00b5ae9",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/cur2",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 3810,
        "y": 2540,
        "wires": []
    },
    {
        "id": "c0ca0e7fa57efdcd",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/vol2",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 3810,
        "y": 2340,
        "wires": []
    },
    {
        "id": "cc859c73afc8e3a0",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/pow2",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 3810,
        "y": 2800,
        "wires": []
    },
    {
        "id": "4ac78a7834da24c2",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/cur3",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 3810,
        "y": 3460,
        "wires": []
    },
    {
        "id": "b057c142a8628393",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/vol3",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 3810,
        "y": 3240,
        "wires": []
    },
    {
        "id": "8a5737c91d57c179",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/pow3",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 3810,
        "y": 3700,
        "wires": []
    },
    {
        "id": "2e519891be52f7ea",
        "type": "mqtt in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "alarm_onsite",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0aec914a7a32d5b2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 270,
        "y": 2600,
        "wires": [
            [
                "72996b1e28881409",
                "d5bb237fc4296593"
            ]
        ]
    },
    {
        "id": "72996b1e28881409",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "eq",
                "v": "0",
                "vt": "str"
            },
            {
                "t": "eq",
                "v": "1",
                "vt": "str"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 2,
        "x": 490,
        "y": 2600,
        "wires": [
            [
                "17c5fd0cdd813959"
            ],
            [
                "8a729a9e8c2ada01"
            ]
        ]
    },
    {
        "id": "17c5fd0cdd813959",
        "type": "change",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 2580,
        "wires": [
            [
                "b0f41cc5eebd1d5a"
            ]
        ]
    },
    {
        "id": "8a729a9e8c2ada01",
        "type": "change",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 2620,
        "wires": [
            [
                "b0f41cc5eebd1d5a"
            ]
        ]
    },
    {
        "id": "68bb1bd09f57dd80",
        "type": "mqtt in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "callCMD",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0aec914a7a32d5b2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 280,
        "y": 2760,
        "wires": [
            [
                "3f8ce5f84a70cb92"
            ]
        ]
    },
    {
        "id": "d5bb237fc4296593",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 61",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 480,
        "y": 2660,
        "wires": []
    },
    {
        "id": "d4234a6931eca472",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "cal_check_blockdataVoltage1-001",
        "func": "var voltageArray = context.get('voltageArray') || [];\nvar currentVoltage = msg.payload;\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (voltageArray.length > 10) {\n    voltageArray.shift();\n}\n\n// คำนวณค่า median\nvar sortedArray = voltageArray.slice().sort((a, b) => a - b);\nvar middle = Math.floor(sortedArray.length / 2);\nvar medianVoltage = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\nif (medianVoltage !== null) {\n    var lowerBound = medianVoltage * -1.6;\n    var upperBound = medianVoltage * 1.6;\n\n    // เปรียบเทียบ currentVoltage กับช่วงที่กำหนด\n    if (currentVoltage < lowerBound || currentVoltage > upperBound) {\n        return null;\n    } else {\n        voltageArray.push(currentVoltage);\n        context.set('voltageArray', voltageArray);\n        msg.payload = currentVoltage;\n        return msg;\n    }\n} else {\n    return null;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3020,
        "y": 1600,
        "wires": [
            [
                "bbf3093aa6f7fa77",
                "cd74243d504413bb",
                "c3ac8bcd82eb620b"
            ]
        ]
    },
    {
        "id": "8a4102fa1c42035f",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "cal_check_blockdataCurrent1-001",
        "func": "var currentArray = context.get('currentArray') || [];\nvar presentCurrent = msg.payload;\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (currentArray.length > 10) {\n    currentArray.shift();\n}\n\n// คำนวณค่า median\nvar sortedArray = currentArray.slice().sort((a, b) => a - b);\nvar middle = Math.floor(sortedArray.length / 2);\nvar medianCurrent = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\nif (medianCurrent !== null) {\n    var lowerBound = medianCurrent * -1.6;\n    var upperBound = medianCurrent * 1.6;\n\n    // เปรียบเทียบ currentVoltage กับช่วงที่กำหนด\n    if (presentCurrent < lowerBound || presentCurrent > upperBound) {\n        return null;\n    } else {\n        currentArray.push(presentCurrent);\n        context.set('currentArray', currentArray);\n        msg.payload = presentCurrent;\n        return msg;\n    }\n} else {\n    return null;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3020,
        "y": 1780,
        "wires": [
            [
                "2f861648b5f923b0",
                "c8e1651b07e51c46",
                "359654cf223d4643"
            ]
        ]
    },
    {
        "id": "309f6cd5ea02f959",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "cal_check_blockdataPower3-001",
        "func": "var powerArray = context.get('powerArray') || [];\n\nvar currentPower = msg.payload.power;\n\n\nif(currentPower != null && currentPower != undefined && !isNaN(currentPower)){\n    powerArray.push(currentPower);\n    context.set('powerArray', powerArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (powerArray.length > 8) {\n    powerArray.shift();\n}\n\n//หา median \nif (powerArray.length === 8) {\n    var sortedArray = powerArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianPower= sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    \n    var lowerBound = medianPower * -1.6;\n    var upperBound = medianPower * 1.6;\n    if (currentPower < lowerBound || currentPower > upperBound) {\n        return null;\n    } else {\n        powerArray.shift();\n        powerArray.push(currentPower);\n        context.set('powerArray', powerArray);\n        msg.payload = currentPower;\n        return msg;\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 3700,
        "wires": [
            [
                "cce5b6e3352f1502",
                "f00f687a715af143"
            ]
        ]
    },
    {
        "id": "85faef42a4afe424",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "cal_check_blockdataPower2-001",
        "func": "var powerArray = context.get('powerArray') || [];\nvar currentPower = msg.payload.power;\n\nif(currentPower != null && currentPower != undefined && !isNaN(currentPower)){\n    powerArray.push(currentPower);\n    context.set('powerArray', powerArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (powerArray.length > 8) {\n    powerArray.shift();\n}\n\n//หา median \nif (powerArray.length === 8) {\n    var sortedArray = powerArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianPower= sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    \n    var lowerBound = medianPower * -1.6;\n    var upperBound = medianPower * 1.6;\n    if (currentPower < lowerBound || currentPower > upperBound) {\n        return null;\n    } else {\n        powerArray.shift();\n        powerArray.push(currentPower);\n        context.set('powerArray', powerArray);\n        msg.payload = currentPower;\n        return msg;\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 2800,
        "wires": [
            [
                "077aa16e5645e42f",
                "6c04cc3c130f3d7c"
            ]
        ]
    },
    {
        "id": "35a35438b98eb2c0",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "cal_check_blockdataPower1-001",
        "func": "var powerArray = context.get('powerArray') || [];\n\nvar currentPower = msg.payload.power;\n\n\nif(currentPower != null && currentPower != undefined && !isNaN(currentPower)){\n    powerArray.push(currentPower);\n    context.set('powerArray', powerArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (powerArray.length > 8) {\n    powerArray.shift();\n}\n\n//หา median \nif (powerArray.length === 8) {\n    var sortedArray = powerArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianPower= sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    \n    var lowerBound = medianPower * -1.6;\n    var upperBound = medianPower * 1.6;\n    if (currentPower < lowerBound || currentPower > upperBound) {\n        return null;\n    } else {\n        powerArray.shift();\n        powerArray.push(currentPower);\n        context.set('powerArray', powerArray);\n        msg.payload = currentPower;\n        return msg;\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3020,
        "y": 1960,
        "wires": [
            [
                "4b31dffdc4560d17",
                "b9ab1511e6d0e071"
            ]
        ]
    },
    {
        "id": "ac31ea6ccf825a01",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "temp1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2730,
        "y": 620,
        "wires": []
    },
    {
        "id": "984300dfb2c4eeba",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "temp3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2710,
        "y": 1400,
        "wires": []
    },
    {
        "id": "bbf3093aa6f7fa77",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "Volt1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3130,
        "y": 1640,
        "wires": []
    },
    {
        "id": "6f5173e90e02d841",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "Volt2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3130,
        "y": 2380,
        "wires": []
    },
    {
        "id": "bbe29adad1ddbc82",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "Volt3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3110,
        "y": 3280,
        "wires": []
    },
    {
        "id": "c8e1651b07e51c46",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "Cur1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3130,
        "y": 1820,
        "wires": []
    },
    {
        "id": "3ea485f92876225d",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "Cur2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3130,
        "y": 2580,
        "wires": []
    },
    {
        "id": "c54866a96c9afa1e",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "Cur3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3110,
        "y": 3500,
        "wires": []
    },
    {
        "id": "4b31dffdc4560d17",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "Power1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3140,
        "y": 2000,
        "wires": []
    },
    {
        "id": "077aa16e5645e42f",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "Power2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3140,
        "y": 2840,
        "wires": []
    },
    {
        "id": "cce5b6e3352f1502",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "Power3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3120,
        "y": 3740,
        "wires": []
    },
    {
        "id": "799ec8520e91568a",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "TempSouce1",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2030,
        "y": 500,
        "wires": []
    },
    {
        "id": "e7cb27825db80bd7",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "TempSouce3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2230,
        "y": 1280,
        "wires": []
    },
    {
        "id": "a2b78c2df535259f",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "cal_check_blockdataVoltage1-001",
        "func": "var voltageArray = context.get('voltageArray') || [];\nvar currentVoltage = msg.payload;\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (voltageArray.length > 10) {\n    voltageArray.shift();\n}\n\n// คำนวณค่า median\nvar sortedArray = voltageArray.slice().sort((a, b) => a - b);\nvar middle = Math.floor(sortedArray.length / 2);\nvar medianVoltage = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\nif (medianVoltage !== null) {\n    var lowerBound = medianVoltage * -1.6;\n    var upperBound = medianVoltage * 1.6;\n\n    // เปรียบเทียบ currentVoltage กับช่วงที่กำหนด\n    if (currentVoltage < lowerBound || currentVoltage > upperBound) {\n        return null;\n    } else {\n        voltageArray.push(currentVoltage);\n        context.set('voltageArray', voltageArray);\n        msg.payload = currentVoltage;\n        return msg;\n    }\n} else {\n    return null;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 2340,
        "wires": [
            [
                "6f5173e90e02d841",
                "c0ca0e7fa57efdcd",
                "299f77997527a3c9"
            ]
        ]
    },
    {
        "id": "b8ce4c46e1d1db73",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "cal_check_blockdataVoltage1-001",
        "func": "var voltageArray = context.get('voltageArray') || [];\nvar currentVoltage = msg.payload;\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (voltageArray.length > 10) {\n    voltageArray.shift();\n}\n\n// คำนวณค่า median\nvar sortedArray = voltageArray.slice().sort((a, b) => a - b);\nvar middle = Math.floor(sortedArray.length / 2);\nvar medianVoltage = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\nif (medianVoltage !== null) {\n    var lowerBound = medianVoltage * -1.6;\n    var upperBound = medianVoltage * 1.6;\n\n    // เปรียบเทียบ currentVoltage กับช่วงที่กำหนด\n    if (currentVoltage < lowerBound || currentVoltage > upperBound) {\n        return null;\n    } else {\n        voltageArray.push(currentVoltage);\n        context.set('voltageArray', voltageArray);\n        msg.payload = currentVoltage;\n        return msg;\n    }\n} else {\n    return null;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 3240,
        "wires": [
            [
                "bbe29adad1ddbc82",
                "b057c142a8628393",
                "1148c5fc061102c4"
            ]
        ]
    },
    {
        "id": "3fd9dc5b4bf14cc9",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "cal_check_blockdataCurrent1-001",
        "func": "var currentArray = context.get('currentArray') || [];\nvar presentCurrent = msg.payload;\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (currentArray.length > 10) {\n    currentArray.shift();\n}\n\n// คำนวณค่า median\nvar sortedArray = currentArray.slice().sort((a, b) => a - b);\nvar middle = Math.floor(sortedArray.length / 2);\nvar medianCurrent = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\nif (medianCurrent !== null) {\n    var lowerBound = medianCurrent * -1.6;\n    var upperBound = medianCurrent * 1.6;\n\n    // เปรียบเทียบ currentVoltage กับช่วงที่กำหนด\n    if (presentCurrent < lowerBound || presentCurrent > upperBound) {\n        return null;\n    } else {\n        currentArray.push(presentCurrent);\n        context.set('currentArray', currentArray);\n        msg.payload = presentCurrent;\n        return msg;\n    }\n} else {\n    return null;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 2540,
        "wires": [
            [
                "3ea485f92876225d",
                "8260da02b00b5ae9",
                "6fe8559d2f81eebf"
            ]
        ]
    },
    {
        "id": "1710a3233daa6caa",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "cal_check_blockdataCurrent1-001",
        "func": "var currentArray = context.get('currentArray') || [];\nvar presentCurrent = msg.payload;\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (currentArray.length > 10) {\n    currentArray.shift();\n}\n\n// คำนวณค่า median\nvar sortedArray = currentArray.slice().sort((a, b) => a - b);\nvar middle = Math.floor(sortedArray.length / 2);\nvar medianCurrent = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\nif (medianCurrent !== null) {\n    var lowerBound = medianCurrent * -1.6;\n    var upperBound = medianCurrent * 1.6;\n\n    // เปรียบเทียบ currentVoltage กับช่วงที่กำหนด\n    if (presentCurrent < lowerBound || presentCurrent > upperBound) {\n        return null;\n    } else {\n        currentArray.push(presentCurrent);\n        context.set('currentArray', currentArray);\n        msg.payload = presentCurrent;\n        return msg;\n    }\n} else {\n    return null;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 3460,
        "wires": [
            [
                "c54866a96c9afa1e",
                "4ac78a7834da24c2",
                "d5348bcdbbd1fd5d"
            ]
        ]
    },
    {
        "id": "d0a81316e6b8665d",
        "type": "file",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "filename": "temp_1",
        "filenameType": "str",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 3200,
        "y": 460,
        "wires": [
            [
                "c882b973f0ffad43"
            ]
        ]
    },
    {
        "id": "2184f7b468ad69d6",
        "type": "file",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "filename": "temp_2",
        "filenameType": "str",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 3180,
        "y": 820,
        "wires": [
            [
                "fcdc6cca466ac8ee"
            ]
        ]
    },
    {
        "id": "31045dfee25ad5a0",
        "type": "file",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "filename": "temp_3",
        "filenameType": "str",
        "appendNewline": false,
        "createDir": true,
        "overwriteFile": "true",
        "encoding": "none",
        "x": 3160,
        "y": 1240,
        "wires": [
            [
                "bc04b8fe6c471315"
            ]
        ]
    },
    {
        "id": "73f1350a33eb74ca",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "PowerSource1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2560,
        "y": 2000,
        "wires": []
    },
    {
        "id": "9977b92624ccee64",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3050,
        "y": 460,
        "wires": [
            [
                "d0a81316e6b8665d"
            ]
        ]
    },
    {
        "id": "8abd79a2f3445d83",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "TempSouce2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2250,
        "y": 860,
        "wires": []
    },
    {
        "id": "f7e9e15c9f7db5f5",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3030,
        "y": 820,
        "wires": [
            [
                "2184f7b468ad69d6"
            ]
        ]
    },
    {
        "id": "0d1bbba59a2aa909",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 3010,
        "y": 1240,
        "wires": [
            [
                "31045dfee25ad5a0"
            ]
        ]
    },
    {
        "id": "7165b1a0d04c6302",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "CurSource1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2610,
        "y": 1820,
        "wires": []
    },
    {
        "id": "78eb09f52595358c",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "VoltSource1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2610,
        "y": 1640,
        "wires": []
    },
    {
        "id": "c5db5c14161e49e6",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "PowerSource2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2520,
        "y": 2840,
        "wires": []
    },
    {
        "id": "71afc8b0b8c97892",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "CurSource2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2590,
        "y": 2580,
        "wires": []
    },
    {
        "id": "f4cc989340312f07",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "VoltSource2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2590,
        "y": 2380,
        "wires": []
    },
    {
        "id": "f1f51684beac0a4f",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "VoltSource3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2570,
        "y": 3280,
        "wires": []
    },
    {
        "id": "86ca1f1b14728ce8",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "CurSource3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2590,
        "y": 3500,
        "wires": []
    },
    {
        "id": "6d7231bb49e23332",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "PowerSource3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2520,
        "y": 3740,
        "wires": []
    },
    {
        "id": "6d97aef69d0b1b79",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of temp",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"temp_2\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2810,
        "y": 820,
        "wires": [
            [
                "f7e9e15c9f7db5f5"
            ]
        ]
    },
    {
        "id": "c13d2142aef12588",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of temp",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"temp_3\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2790,
        "y": 1240,
        "wires": [
            [
                "0d1bbba59a2aa909"
            ]
        ]
    },
    {
        "id": "3ea660136a908ac7",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 17",
        "func": "msg.payload = Buffer.from(msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 300,
        "wires": [
            [
                "1674d3e9a5cb8009"
            ]
        ]
    },
    {
        "id": "1674d3e9a5cb8009",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 69",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1460,
        "y": 300,
        "wires": []
    },
    {
        "id": "f2e7bbe1cfcfec87",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 18",
        "func": "msg.payload = Buffer.from(msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 360,
        "wires": [
            [
                "1927f46d0a8bf5ba"
            ]
        ]
    },
    {
        "id": "1927f46d0a8bf5ba",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 70",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1460,
        "y": 360,
        "wires": []
    },
    {
        "id": "ae7fc7a4fcb11983",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 19",
        "func": "msg.payload = Buffer.from(msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1270,
        "y": 420,
        "wires": [
            [
                "594ca9c975beef6f"
            ]
        ]
    },
    {
        "id": "594ca9c975beef6f",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 71",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1460,
        "y": 420,
        "wires": []
    },
    {
        "id": "4cc63175d116df61",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check complete block value",
        "func": "var temperatureArray = context.get('temperatureArray') || [];\n\nvar currentTemperature = msg.payload.temp;\n\n\nif(currentTemperature != null && currentTemperature != undefined && !isNaN(currentTemperature)){\n    temperatureArray.push(currentTemperature);\n    context.set('temperatureArray', temperatureArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (temperatureArray.length > 10) {\n    temperatureArray.shift();\n}\n\n//หา median \nif (temperatureArray.length === 10) {\n    var sortedArray = temperatureArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianTemperature = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    \n    switch (true) {\n        case medianTemperature >= 0:\n            // เงื่อนไขเดิม สำหรับ median ที่เป็นบวกหรือเท่ากับ 0\n            var lowerBound = medianTemperature * -1.6;\n            var upperBound = medianTemperature * 1.6;\n            if (currentTemperature < lowerBound || currentTemperature > upperBound) {\n                return null;\n            } else {\n                temperatureArray.shift();\n                temperatureArray.push(currentTemperature);\n                context.set('temperatureArray', temperatureArray);\n                msg.payload = currentTemperature;\n                return msg;\n            }\n            break;\n        case medianTemperature < 0:\n            var lowerBound = medianTemperature * 1.6;\n            var upperBound = medianTemperature * -1.6;\n            if (currentTemperature < lowerBound || currentTemperature > upperBound) {\n                return null;\n            } else {\n                temperatureArray.shift();\n                temperatureArray.push(currentTemperature);\n                context.set('temperatureArray', temperatureArray);\n                msg.payload = currentTemperature;\n                return msg;\n            }\n            break;\n        default:\n            return null;\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2500,
        "y": 540,
        "wires": [
            [
                "ac31ea6ccf825a01",
                "dde83a1fb83f68f5",
                "f40c74028d569215"
            ]
        ]
    },
    {
        "id": "37dd4c2332ed2e8d",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check complete block value",
        "func": "var temperatureArray = context.get('temperatureArray') || [];\n\nvar currentTemperature = msg.payload.temp;\n\n\nif(currentTemperature != null && currentTemperature != undefined && !isNaN(currentTemperature)){\n    temperatureArray.push(currentTemperature);\n    context.set('temperatureArray', temperatureArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (temperatureArray.length > 10) {\n    temperatureArray.shift();\n}\n\n//หา median \nif (temperatureArray.length === 10) {\n    var sortedArray = temperatureArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianTemperature = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    \n    switch (true) {\n        case medianTemperature >= 0:\n            // เงื่อนไขเดิม สำหรับ median ที่เป็นบวกหรือเท่ากับ 0\n            var lowerBound = medianTemperature * -1.6;\n            var upperBound = medianTemperature * 1.6;\n            if (currentTemperature < lowerBound || currentTemperature > upperBound) {\n                return null;\n            } else {\n                temperatureArray.shift();\n                temperatureArray.push(currentTemperature);\n                context.set('temperatureArray', temperatureArray);\n                msg.payload = currentTemperature;\n                return msg;\n            }\n            break;\n        case medianTemperature < 0:\n            var lowerBound = medianTemperature * 1.6;\n            var upperBound = medianTemperature * -1.6;\n            if (currentTemperature < lowerBound || currentTemperature > upperBound) {\n                return null;\n            } else {\n                temperatureArray.shift();\n                temperatureArray.push(currentTemperature);\n                context.set('temperatureArray', temperatureArray);\n                msg.payload = currentTemperature;\n                return msg;\n            }\n            break;\n        default:\n            return null;\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2460,
        "y": 1320,
        "wires": [
            [
                "c13d2142aef12588",
                "22e3c98bb18333ca",
                "984300dfb2c4eeba"
            ]
        ]
    },
    {
        "id": "8ac53c58d4551e08",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2270,
        "y": 540,
        "wires": [
            [
                "4cc63175d116df61",
                "04d5fa0f97de97b4"
            ]
        ]
    },
    {
        "id": "3734f39307d41fb4",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2230,
        "y": 1320,
        "wires": [
            [
                "37dd4c2332ed2e8d",
                "c80fafbe658c5f06"
            ]
        ]
    },
    {
        "id": "cf5f73cbebd1eb78",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2270,
        "y": 900,
        "wires": [
            [
                "71edf2bcc23c2e72",
                "8241825b600548c5"
            ]
        ]
    },
    {
        "id": "4d331eeea5e826dd",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "temp2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2730,
        "y": 980,
        "wires": []
    },
    {
        "id": "71edf2bcc23c2e72",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check complete block value",
        "func": "var temperatureArray = context.get('temperatureArray') || [];\n\nvar currentTemperature = msg.payload.temp;\n\n\nif(currentTemperature != null && currentTemperature != undefined && !isNaN(currentTemperature)){\n    temperatureArray.push(currentTemperature);\n    context.set('temperatureArray', temperatureArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (temperatureArray.length > 6) {\n    temperatureArray.shift();\n}\n\n//หา median \nif (temperatureArray.length === 6) {\n    var sortedArray = temperatureArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianTemperature = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    \n    switch (true) {\n        case medianTemperature >= 0:\n            // เงื่อนไขเดิม สำหรับ median ที่เป็นบวกหรือเท่ากับ 0\n            var lowerBound = medianTemperature * -1.6;\n            var upperBound = medianTemperature * 1.6;\n            if (currentTemperature < lowerBound || currentTemperature > upperBound) {\n                return null;\n            } else {\n                temperatureArray.shift();\n                temperatureArray.push(currentTemperature);\n                context.set('temperatureArray', temperatureArray);\n                msg.payload = currentTemperature;\n                return msg;\n            }\n            break;\n        case medianTemperature < 0:\n            var lowerBound = medianTemperature * 1.6;\n            var upperBound = medianTemperature * -1.6;\n            if (currentTemperature < lowerBound || currentTemperature > upperBound) {\n                return null;\n            } else {\n                temperatureArray.shift();\n                temperatureArray.push(currentTemperature);\n                context.set('temperatureArray', temperatureArray);\n                msg.payload = currentTemperature;\n                return msg;\n            }\n            break;\n        default:\n            return null;\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2500,
        "y": 900,
        "wires": [
            [
                "55f2fbb4999af18b",
                "6d97aef69d0b1b79",
                "4d331eeea5e826dd"
            ]
        ]
    },
    {
        "id": "096e344301c6d29f",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check Array income  value",
        "func": "var temperatureArray = context.get('temperatureArray') || [];\n\nvar currentTemperature = msg.payload.temp;\n\nif(currentTemperature != null && currentTemperature != undefined && !isNaN(currentTemperature)){\n    temperatureArray.push(currentTemperature);\n    context.set('temperatureArray', temperatureArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (temperatureArray.length > 10) {\n    temperatureArray.shift();\n}\n\nmsg.payload = temperatureArray;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5550,
        "y": 240,
        "wires": [
            [
                "9691d9b86e66d3e4"
            ]
        ]
    },
    {
        "id": "08decc44656bbe75",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 72",
        "active": false,
        "tosidebar": true,
        "console": true,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 5830,
        "y": 400,
        "wires": []
    },
    {
        "id": "f3d93342e5c4534d",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check complete block value",
        "func": "var temperatureArray = context.get('temperatureArray') || [];\n\nvar currentTemperature = msg.payload.temp;\n\n\nif(currentTemperature != null && currentTemperature != undefined && !isNaN(currentTemperature)){\n    temperatureArray.push(currentTemperature);\n    context.set('temperatureArray', temperatureArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (temperatureArray.length > 10) {\n    temperatureArray.shift();\n}\n\n//หา median \nif (temperatureArray.length === 10) {\n    var sortedArray = temperatureArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianTemperature = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    \n    var lowerBound = medianTemperature * -1.6;\n    var upperBound = medianTemperature * 1.6;\n    if (currentTemperature < lowerBound || currentTemperature > upperBound) {\n        return null;\n    } else {\n        temperatureArray.shift();\n        temperatureArray.push(currentTemperature);\n        context.set('temperatureArray', temperatureArray);\n        msg.payload = currentTemperature;\n        return msg;\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5560,
        "y": 400,
        "wires": [
            [
                "08decc44656bbe75"
            ]
        ]
    },
    {
        "id": "9691d9b86e66d3e4",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 73",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 5820,
        "y": 240,
        "wires": []
    },
    {
        "id": "d0b8499210524adc",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "25",
        "props": [
            {
                "p": "payload.temp",
                "v": "25",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 420,
        "wires": [
            [
                "7195a46e61cb979f"
            ]
        ]
    },
    {
        "id": "ebc78feb433a3943",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "Emthy",
        "props": [
            {
                "p": "payload.temp",
                "v": "[]",
                "vt": "json"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 240,
        "wires": [
            [
                "7195a46e61cb979f"
            ]
        ]
    },
    {
        "id": "c5869620f32a549b",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check median value",
        "func": "var temperatureArray = context.get('temperatureArray') || [];\n\nvar currentTemperature = msg.payload.temp;\n\nif(currentTemperature != null && currentTemperature != undefined && !isNaN(currentTemperature)){\n    temperatureArray.push(currentTemperature);\n    context.set('temperatureArray', temperatureArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (temperatureArray.length > 10) {\n    temperatureArray.shift();\n}\n\nif (temperatureArray.length === 10) {\n    var sortedArray = temperatureArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianTemperature = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    msg.payload = medianTemperature;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5540,
        "y": 320,
        "wires": [
            [
                "2e237395d1acbff4"
            ]
        ]
    },
    {
        "id": "2e237395d1acbff4",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 74",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 5820,
        "y": 320,
        "wires": []
    },
    {
        "id": "3149f240.c0e25e",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "4",
        "props": [
            {
                "p": "payload.temp",
                "v": "4",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 300,
        "wires": [
            [
                "7195a46e61cb979f"
            ]
        ]
    },
    {
        "id": "929622a1c3894438",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "2",
        "props": [
            {
                "p": "payload.temp",
                "v": "2",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 460,
        "wires": [
            [
                "7195a46e61cb979f"
            ]
        ]
    },
    {
        "id": "4bafd2d46381e4d1",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "-2",
        "props": [
            {
                "p": "payload.temp",
                "v": "-2",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 520,
        "wires": [
            [
                "7195a46e61cb979f"
            ]
        ]
    },
    {
        "id": "adf406f7ed220207",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "0",
        "props": [
            {
                "p": "payload.temp",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 580,
        "wires": [
            [
                "7195a46e61cb979f"
            ]
        ]
    },
    {
        "id": "1bedcdc16ce749b2",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "1.2",
        "props": [
            {
                "p": "payload.temp",
                "v": "1.2",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 620,
        "wires": [
            [
                "7195a46e61cb979f"
            ]
        ]
    },
    {
        "id": "ea93685686ccc2a6",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "-50",
        "props": [
            {
                "p": "payload.temp",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 660,
        "wires": [
            [
                "7195a46e61cb979f"
            ]
        ]
    },
    {
        "id": "8241825b600548c5",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 83",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 2460,
        "y": 860,
        "wires": []
    },
    {
        "id": "04d5fa0f97de97b4",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 84",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2280,
        "y": 500,
        "wires": []
    },
    {
        "id": "c80fafbe658c5f06",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 85",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2440,
        "y": 1280,
        "wires": []
    },
    {
        "id": "d2baa6eebd72bace",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "12",
        "props": [
            {
                "p": "payload.temp",
                "v": "12",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 740,
        "wires": [
            [
                "7195a46e61cb979f"
            ]
        ]
    },
    {
        "id": "233e140c4bcd795a",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "9",
        "props": [
            {
                "p": "payload.temp",
                "v": "9",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 700,
        "wires": [
            [
                "7195a46e61cb979f"
            ]
        ]
    },
    {
        "id": "e84ab6da93e921bc",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2730,
        "y": 3700,
        "wires": [
            [
                "309f6cd5ea02f959",
                "804ca0727ecc03bf",
                "240870a9d3f161b3",
                "91319dab0cf7eb1f"
            ]
        ]
    },
    {
        "id": "f48837088dc4b4a9",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2730,
        "y": 2800,
        "wires": [
            [
                "85faef42a4afe424",
                "bdfc6315244c0543",
                "3ee2b5d67cee3c0f"
            ]
        ]
    },
    {
        "id": "58cb737a4d030138",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 2750,
        "y": 1960,
        "wires": [
            [
                "35a35438b98eb2c0",
                "bb4e3c9a390e493f",
                "fba9a54d902f1a9d",
                "8d7cccd653a53371"
            ]
        ]
    },
    {
        "id": "fe579e32e082a27f",
        "type": "comment",
        "z": "2ad8c2a186dad0d1",
        "name": "Test Monitor Value section",
        "info": "โนดแต่ละโนดในการทดสอบ sectionนั้น นำค่ามาจากค่าจริงทั้งหมด **แต่**จะไม่มีการส่งออกไปยัง mqtt\n**สามารถ** inject ค่าทดสอบได้สามารถแก้ไขค่าใน inject ได้",
        "x": 4850,
        "y": 160,
        "wires": []
    },
    {
        "id": "dde83a1fb83f68f5",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of temp",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"temp_1\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2810,
        "y": 460,
        "wires": [
            [
                "9977b92624ccee64"
            ]
        ]
    },
    {
        "id": "a0e445bb321c41de",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check Array income 10 value",
        "func": "var powerArray = context.get('powerArray') || [];\nvar currentPower = msg.payload.power;\n\nif(currentPower != null && currentPower != undefined && !isNaN(currentPower)){\n    powerArray.push(currentPower);\n    context.set('powerArray', powerArray);\n}else{\n    return null;\n}\n\nif (powerArray.length > 10) {\n    powerArray.shift();\n    \n}\n\nmsg.payload = powerArray;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5560,
        "y": 2100,
        "wires": [
            [
                "1f9083606da26e0f"
            ]
        ]
    },
    {
        "id": "8d83ab4c6aaf612a",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 102",
        "active": false,
        "tosidebar": true,
        "console": true,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 5850,
        "y": 2220,
        "wires": []
    },
    {
        "id": "1f9083606da26e0f",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 103",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 5820,
        "y": 2100,
        "wires": []
    },
    {
        "id": "511c8712f9d48e34",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "800",
        "props": [
            {
                "p": "payload.power",
                "v": "800",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2160,
        "wires": [
            [
                "bcf1f0e941249893"
            ]
        ]
    },
    {
        "id": "2f99b8dd31cb49f6",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "600",
        "props": [
            {
                "p": "payload.power",
                "v": "600",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2100,
        "wires": [
            [
                "bcf1f0e941249893"
            ]
        ]
    },
    {
        "id": "14187bfecde29008",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check median value",
        "func": "var powerArray = context.get('powerArray') || [];\n\nvar currentPower = msg.payload.power;\n\n\nif(currentPower != null && currentPower != undefined && !isNaN(currentPower)){\n    powerArray.push(currentPower);\n    context.set('powerArray', powerArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (powerArray.length > 10) {\n    powerArray.shift();\n}\n\n//หา median \nif (powerArray.length === 10) {\n    var sortedArray = powerArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianPower= sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    msg.payload = medianPower;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5540,
        "y": 2160,
        "wires": [
            [
                "b13d8c9e6d690211"
            ]
        ]
    },
    {
        "id": "b13d8c9e6d690211",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 104",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 5820,
        "y": 2160,
        "wires": []
    },
    {
        "id": "8689d38d611d7ba9",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "400",
        "props": [
            {
                "p": "payload.power",
                "v": "400",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2220,
        "wires": [
            [
                "bcf1f0e941249893"
            ]
        ]
    },
    {
        "id": "a8dadb96acd94d97",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "-900",
        "props": [
            {
                "p": "payload.power",
                "v": "-900",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2280,
        "wires": [
            [
                "bcf1f0e941249893"
            ]
        ]
    },
    {
        "id": "70c88219d551e3bf",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "0",
        "props": [
            {
                "p": "payload.power",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2340,
        "wires": [
            [
                "bcf1f0e941249893"
            ]
        ]
    },
    {
        "id": "78eb230829574ed1",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "2500",
        "props": [
            {
                "p": "payload.power",
                "v": "2500",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2400,
        "wires": [
            [
                "bcf1f0e941249893"
            ]
        ]
    },
    {
        "id": "5a094ebdcb01a74e",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "-1800",
        "props": [
            {
                "p": "payload.power",
                "v": "-1800",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2460,
        "wires": [
            [
                "bcf1f0e941249893"
            ]
        ]
    },
    {
        "id": "276d96d909ba96e9",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "1700",
        "props": [
            {
                "p": "payload.power",
                "v": "1700",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2500,
        "wires": [
            [
                "bcf1f0e941249893"
            ]
        ]
    },
    {
        "id": "d5b56df00976cfdc",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "cal_check_blockdataPower3-001",
        "func": "var powerArray = context.get('powerArray') || [];\n\nvar currentPower = msg.payload.power;\n\n\nif(currentPower != null && currentPower != undefined && !isNaN(currentPower)){\n    powerArray.push(currentPower);\n    context.set('powerArray', powerArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (powerArray.length > 10) {\n    powerArray.shift();\n}\n\n//หา median \nif (powerArray.length === 10) {\n    var sortedArray = powerArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianPower= sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    \n    var lowerBound = medianPower * -1.6;\n    var upperBound = medianPower * 1.6;\n    if (currentPower < lowerBound || currentPower > upperBound) {\n        return null;\n    } else {\n        powerArray.shift();\n        powerArray.push(currentPower);\n        context.set('powerArray', powerArray);\n        msg.payload = currentPower;\n        return msg;\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5580,
        "y": 2220,
        "wires": [
            [
                "8d83ab4c6aaf612a"
            ]
        ]
    },
    {
        "id": "66986b9da7ad2ae8",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "null",
        "props": [
            {
                "p": "payload.power",
                "v": "null",
                "vt": "json"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2540,
        "wires": [
            [
                "bcf1f0e941249893"
            ]
        ]
    },
    {
        "id": "f83abec844821850",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "18efa738d7205644"
        ],
        "x": 1845,
        "y": 1280,
        "wires": []
    },
    {
        "id": "18efa738d7205644",
        "type": "link in",
        "z": "2ad8c2a186dad0d1",
        "name": "link in 1",
        "links": [
            "f83abec844821850"
        ],
        "x": 1125,
        "y": 420,
        "wires": [
            [
                "ae7fc7a4fcb11983"
            ]
        ]
    },
    {
        "id": "58025cdef0a2ce2f",
        "type": "link in",
        "z": "2ad8c2a186dad0d1",
        "name": "link in 2",
        "links": [
            "cee6a253587ec227"
        ],
        "x": 1125,
        "y": 360,
        "wires": [
            [
                "f2e7bbe1cfcfec87"
            ]
        ]
    },
    {
        "id": "acd1b15b7ae29184",
        "type": "link in",
        "z": "2ad8c2a186dad0d1",
        "name": "link in 3",
        "links": [
            "bab86df3b4bf36c2"
        ],
        "x": 1125,
        "y": 300,
        "wires": [
            [
                "3ea660136a908ac7"
            ]
        ]
    },
    {
        "id": "cee6a253587ec227",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link out 2",
        "mode": "link",
        "links": [
            "58025cdef0a2ce2f"
        ],
        "x": 1865,
        "y": 860,
        "wires": []
    },
    {
        "id": "bab86df3b4bf36c2",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link out 3",
        "mode": "link",
        "links": [
            "acd1b15b7ae29184"
        ],
        "x": 1885,
        "y": 480,
        "wires": []
    },
    {
        "id": "9d404fa032f7fd9f",
        "type": "link in",
        "z": "2ad8c2a186dad0d1",
        "name": "link in temp1",
        "links": [],
        "x": 5235,
        "y": 200,
        "wires": [
            [
                "c71aea3b25c6f5e8"
            ]
        ]
    },
    {
        "id": "86172ca3a61e9e45",
        "type": "link in",
        "z": "2ad8c2a186dad0d1",
        "name": "link in power1",
        "links": [
            "bb4e3c9a390e493f",
            "81086047bb84379a"
        ],
        "x": 5235,
        "y": 2060,
        "wires": [
            [
                "4f04d3a00db57126"
            ]
        ]
    },
    {
        "id": "bb4e3c9a390e493f",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link out power1",
        "mode": "link",
        "links": [
            "86172ca3a61e9e45"
        ],
        "x": 2775,
        "y": 2000,
        "wires": []
    },
    {
        "id": "bdfc6315244c0543",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link out power2",
        "mode": "link",
        "links": [
            "0433a9d19059212b",
            "fac5a56245d73a15"
        ],
        "x": 2715,
        "y": 2840,
        "wires": []
    },
    {
        "id": "804ca0727ecc03bf",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link out power3",
        "mode": "link",
        "links": [
            "ce829f490c2856ad",
            "23e2943b8265024c"
        ],
        "x": 2725,
        "y": 3740,
        "wires": []
    },
    {
        "id": "d78e6ab869f29ac3",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link inject(out) temp1",
        "mode": "link",
        "links": [],
        "x": 5455,
        "y": 460,
        "wires": []
    },
    {
        "id": "d42f99ded0ef7bec",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link inject(out) power1",
        "mode": "link",
        "links": [],
        "x": 5455,
        "y": 2280,
        "wires": []
    },
    {
        "id": "7195a46e61cb979f",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 5250,
        "y": 400,
        "wires": [
            [
                "096e344301c6d29f",
                "c5869620f32a549b",
                "f3d93342e5c4534d",
                "d78e6ab869f29ac3"
            ]
        ]
    },
    {
        "id": "c71aea3b25c6f5e8",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 5250,
        "y": 240,
        "wires": [
            [
                "096e344301c6d29f",
                "c5869620f32a549b",
                "f3d93342e5c4534d"
            ]
        ]
    },
    {
        "id": "77a498c8b0c93d12",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check Array income  value",
        "func": "var temperatureArray = context.get('temperatureArray') || [];\n\nvar currentTemperature = msg.payload.temp;\n\nif(currentTemperature != null && currentTemperature != undefined && !isNaN(currentTemperature)){\n    temperatureArray.push(currentTemperature);\n    context.set('temperatureArray', temperatureArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (temperatureArray.length > 6) {\n    temperatureArray.shift();\n}\n\nmsg.payload = temperatureArray;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5550,
        "y": 840,
        "wires": [
            [
                "354eb226e3bb6054"
            ]
        ]
    },
    {
        "id": "4b763d7f8c610132",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 105",
        "active": false,
        "tosidebar": true,
        "console": true,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 5830,
        "y": 1000,
        "wires": []
    },
    {
        "id": "8277855f24f7c3e5",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check complete block value",
        "func": "var temperatureArray = context.get('temperatureArray') || [];\n\nvar currentTemperature = msg.payload.temp;\n\n\nif(currentTemperature != null && currentTemperature != undefined && !isNaN(currentTemperature)){\n    temperatureArray.push(currentTemperature);\n    context.set('temperatureArray', temperatureArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (temperatureArray.length > 6) {\n    temperatureArray.shift();\n}\n\n//หา median \nif (temperatureArray.length === 6) {\n    var sortedArray = temperatureArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianTemperature = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    \n    var lowerBound = medianTemperature * -1.6;\n    var upperBound = medianTemperature * 1.6;\n    if (currentTemperature < lowerBound || currentTemperature > upperBound) {\n        return null;\n    } else {\n        temperatureArray.shift();\n        temperatureArray.push(currentTemperature);\n        context.set('temperatureArray', temperatureArray);\n        msg.payload = currentTemperature;\n        return msg;\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5560,
        "y": 1000,
        "wires": [
            [
                "4b763d7f8c610132"
            ]
        ]
    },
    {
        "id": "354eb226e3bb6054",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 106",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 5820,
        "y": 840,
        "wires": []
    },
    {
        "id": "39d7e3aa9563aedd",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "25",
        "props": [
            {
                "p": "payload.temp",
                "v": "25",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1060,
        "wires": [
            [
                "1bbab67e17739f71"
            ]
        ]
    },
    {
        "id": "5294c2a1a17d70e8",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "Emthy",
        "props": [
            {
                "p": "payload.temp",
                "v": "[]",
                "vt": "json"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 840,
        "wires": [
            [
                "1bbab67e17739f71"
            ]
        ]
    },
    {
        "id": "360a746f886a8a89",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check median value",
        "func": "var temperatureArray = context.get('temperatureArray') || [];\n\nvar currentTemperature = msg.payload.temp;\n\nif(currentTemperature != null && currentTemperature != undefined && !isNaN(currentTemperature)){\n    temperatureArray.push(currentTemperature);\n    context.set('temperatureArray', temperatureArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (temperatureArray.length > 6) {\n    temperatureArray.shift();\n}\n\nif (temperatureArray.length === 6) {\n    var sortedArray = temperatureArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianTemperature = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    msg.payload = medianTemperature;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5540,
        "y": 920,
        "wires": [
            [
                "afa25f4ca544e249"
            ]
        ]
    },
    {
        "id": "afa25f4ca544e249",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 107",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 5820,
        "y": 920,
        "wires": []
    },
    {
        "id": "a7e01ca32d75ba03",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "4",
        "props": [
            {
                "p": "payload.temp",
                "v": "4",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 900,
        "wires": [
            [
                "1bbab67e17739f71"
            ]
        ]
    },
    {
        "id": "4aca4ccde3b9b15e",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "2",
        "props": [
            {
                "p": "payload.temp",
                "v": "2",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1100,
        "wires": [
            [
                "1bbab67e17739f71"
            ]
        ]
    },
    {
        "id": "fbb15e205a42dc7b",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "-2",
        "props": [
            {
                "p": "payload.temp",
                "v": "-2",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1140,
        "wires": [
            [
                "1bbab67e17739f71"
            ]
        ]
    },
    {
        "id": "30cda64eee681a01",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "0",
        "props": [
            {
                "p": "payload.temp",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1180,
        "wires": [
            [
                "1bbab67e17739f71"
            ]
        ]
    },
    {
        "id": "f8c795e9e74df682",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "1.2",
        "props": [
            {
                "p": "payload.temp",
                "v": "1.2",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1220,
        "wires": [
            [
                "1bbab67e17739f71"
            ]
        ]
    },
    {
        "id": "9f828364756571c7",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "-50",
        "props": [
            {
                "p": "payload.temp",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1260,
        "wires": [
            [
                "1bbab67e17739f71"
            ]
        ]
    },
    {
        "id": "d17464c464ebb9d9",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "12",
        "props": [
            {
                "p": "payload.temp",
                "v": "12",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1340,
        "wires": [
            [
                "1bbab67e17739f71"
            ]
        ]
    },
    {
        "id": "5ca6262b37942941",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "9",
        "props": [
            {
                "p": "payload.temp",
                "v": "9",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1300,
        "wires": [
            [
                "1bbab67e17739f71"
            ]
        ]
    },
    {
        "id": "a7289c69e6fe9c6f",
        "type": "link in",
        "z": "2ad8c2a186dad0d1",
        "name": "link in temp2",
        "links": [
            "4b8b27cb977a15e1"
        ],
        "x": 5235,
        "y": 800,
        "wires": [
            [
                "8d5bc1c2e382b496"
            ]
        ]
    },
    {
        "id": "1bbab67e17739f71",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 5250,
        "y": 1000,
        "wires": [
            [
                "77a498c8b0c93d12",
                "360a746f886a8a89",
                "8277855f24f7c3e5",
                "8ab7530723866045"
            ]
        ]
    },
    {
        "id": "8d5bc1c2e382b496",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 5250,
        "y": 840,
        "wires": [
            [
                "77a498c8b0c93d12",
                "360a746f886a8a89",
                "8277855f24f7c3e5"
            ]
        ]
    },
    {
        "id": "8687fcf7fe394272",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check Array income  value",
        "func": "var temperatureArray = context.get('temperatureArray') || [];\n\nvar currentTemperature = msg.payload.temp;\n\nif(currentTemperature != null && currentTemperature != undefined && !isNaN(currentTemperature)){\n    temperatureArray.push(currentTemperature);\n    context.set('temperatureArray', temperatureArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (temperatureArray.length > 10) {\n    temperatureArray.shift();\n}\n\nmsg.payload = temperatureArray;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5550,
        "y": 1460,
        "wires": [
            [
                "2e2a03537a1637ba"
            ]
        ]
    },
    {
        "id": "6a9d8aa44cae0d29",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 108",
        "active": false,
        "tosidebar": true,
        "console": true,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 5830,
        "y": 1620,
        "wires": []
    },
    {
        "id": "670daa2728dbdba8",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check complete block value",
        "func": "var temperatureArray = context.get('temperatureArray') || [];\n\nvar currentTemperature = msg.payload.temp;\n\n\nif(currentTemperature != null && currentTemperature != undefined && !isNaN(currentTemperature)){\n    temperatureArray.push(currentTemperature);\n    context.set('temperatureArray', temperatureArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (temperatureArray.length > 10) {\n    temperatureArray.shift();\n}\n\n//หา median \nif (temperatureArray.length === 10) {\n    var sortedArray = temperatureArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianTemperature = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    \n    var lowerBound = medianTemperature * -1.6;\n    var upperBound = medianTemperature * 1.6;\n    if (currentTemperature < lowerBound || currentTemperature > upperBound) {\n        return null;\n    } else {\n        temperatureArray.shift();\n        temperatureArray.push(currentTemperature);\n        context.set('temperatureArray', temperatureArray);\n        msg.payload = currentTemperature;\n        return msg;\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5560,
        "y": 1620,
        "wires": [
            [
                "6a9d8aa44cae0d29"
            ]
        ]
    },
    {
        "id": "2e2a03537a1637ba",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 109",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 5820,
        "y": 1460,
        "wires": []
    },
    {
        "id": "c5ca380d72f7f56a",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "25",
        "props": [
            {
                "p": "payload.temp",
                "v": "25",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1640,
        "wires": [
            [
                "26fabbb2cf837c3e"
            ]
        ]
    },
    {
        "id": "d96edf4e7e64d063",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "Emthy",
        "props": [
            {
                "p": "payload.temp",
                "v": "[]",
                "vt": "json"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1480,
        "wires": [
            [
                "26fabbb2cf837c3e"
            ]
        ]
    },
    {
        "id": "8ce99f36c21f3005",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check median value",
        "func": "var temperatureArray = context.get('temperatureArray') || [];\n\nvar currentTemperature = msg.payload.temp;\n\nif(currentTemperature != null && currentTemperature != undefined && !isNaN(currentTemperature)){\n    temperatureArray.push(currentTemperature);\n    context.set('temperatureArray', temperatureArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (temperatureArray.length > 10) {\n    temperatureArray.shift();\n}\n\nif (temperatureArray.length === 10) {\n    var sortedArray = temperatureArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianTemperature = sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    msg.payload = medianTemperature;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5540,
        "y": 1540,
        "wires": [
            [
                "14da860c44231a65"
            ]
        ]
    },
    {
        "id": "14da860c44231a65",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 110",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 5820,
        "y": 1540,
        "wires": []
    },
    {
        "id": "c37ef6dbea2fc4c4",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "4",
        "props": [
            {
                "p": "payload.temp",
                "v": "4",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1600,
        "wires": [
            [
                "26fabbb2cf837c3e"
            ]
        ]
    },
    {
        "id": "9f0b2b709d0bbc91",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "2",
        "props": [
            {
                "p": "payload.temp",
                "v": "2",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1680,
        "wires": [
            [
                "26fabbb2cf837c3e"
            ]
        ]
    },
    {
        "id": "92f653d6a30865df",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "-2",
        "props": [
            {
                "p": "payload.temp",
                "v": "-2",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1760,
        "wires": [
            [
                "26fabbb2cf837c3e"
            ]
        ]
    },
    {
        "id": "2dd73ff634ddae0f",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "0",
        "props": [
            {
                "p": "payload.temp",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1800,
        "wires": [
            [
                "26fabbb2cf837c3e"
            ]
        ]
    },
    {
        "id": "feebb4e1d39fd984",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "1.2",
        "props": [
            {
                "p": "payload.temp",
                "v": "1.2",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1840,
        "wires": [
            [
                "26fabbb2cf837c3e"
            ]
        ]
    },
    {
        "id": "89cb596e0b6b8201",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "-50",
        "props": [
            {
                "p": "payload.temp",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1880,
        "wires": [
            [
                "26fabbb2cf837c3e"
            ]
        ]
    },
    {
        "id": "90f43f6c737d2a4b",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "12",
        "props": [
            {
                "p": "payload.temp",
                "v": "12",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1960,
        "wires": [
            [
                "26fabbb2cf837c3e"
            ]
        ]
    },
    {
        "id": "9660e92a12fdb28a",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "9",
        "props": [
            {
                "p": "payload.temp",
                "v": "9",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1920,
        "wires": [
            [
                "26fabbb2cf837c3e"
            ]
        ]
    },
    {
        "id": "c4531e2005ebac0d",
        "type": "link in",
        "z": "2ad8c2a186dad0d1",
        "name": "link in temp3",
        "links": [
            "e534a40c29da7e3e"
        ],
        "x": 5235,
        "y": 1420,
        "wires": [
            [
                "f9f0b24bab3caa7c"
            ]
        ]
    },
    {
        "id": "fe018d1dd010448c",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link inject(out) temp3",
        "mode": "link",
        "links": [],
        "x": 5455,
        "y": 1680,
        "wires": []
    },
    {
        "id": "26fabbb2cf837c3e",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 5250,
        "y": 1620,
        "wires": [
            [
                "8687fcf7fe394272",
                "8ce99f36c21f3005",
                "670daa2728dbdba8",
                "fe018d1dd010448c"
            ]
        ]
    },
    {
        "id": "f9f0b24bab3caa7c",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 5250,
        "y": 1460,
        "wires": [
            [
                "8687fcf7fe394272",
                "8ce99f36c21f3005",
                "670daa2728dbdba8"
            ]
        ]
    },
    {
        "id": "bcf1f0e941249893",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 5250,
        "y": 2220,
        "wires": [
            [
                "d42f99ded0ef7bec",
                "a0e445bb321c41de",
                "14187bfecde29008",
                "d5b56df00976cfdc"
            ]
        ]
    },
    {
        "id": "4f04d3a00db57126",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 5250,
        "y": 2100,
        "wires": [
            [
                "a0e445bb321c41de",
                "14187bfecde29008",
                "d5b56df00976cfdc"
            ]
        ]
    },
    {
        "id": "9e0ed65f9d300dba",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check Array income 10 value",
        "func": "var powerArray = context.get('powerArray') || [];\nvar currentPower = msg.payload.power;\n\nif(currentPower != null && currentPower != undefined && !isNaN(currentPower)){\n    powerArray.push(currentPower);\n    context.set('powerArray', powerArray);\n}else{\n    return null;\n}\n\nif (powerArray.length > 10) {\n    powerArray.shift();\n    \n}\n\nmsg.payload = powerArray;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5560,
        "y": 2700,
        "wires": [
            [
                "f2a3706a24a3d3db"
            ]
        ]
    },
    {
        "id": "8b70a09eace36631",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 111",
        "active": false,
        "tosidebar": true,
        "console": true,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 5850,
        "y": 2820,
        "wires": []
    },
    {
        "id": "f2a3706a24a3d3db",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 112",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 5820,
        "y": 2700,
        "wires": []
    },
    {
        "id": "ffd96e729ce6f061",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "800",
        "props": [
            {
                "p": "payload.power",
                "v": "800",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2760,
        "wires": [
            [
                "4501ce625e3fdc6e"
            ]
        ]
    },
    {
        "id": "0cc457e4462b1714",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "600",
        "props": [
            {
                "p": "payload.power",
                "v": "600",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2700,
        "wires": [
            [
                "4501ce625e3fdc6e"
            ]
        ]
    },
    {
        "id": "7fcbd1647d53ca72",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check median value",
        "func": "var powerArray = context.get('powerArray') || [];\n\nvar currentPower = msg.payload.power;\n\n\nif(currentPower != null && currentPower != undefined && !isNaN(currentPower)){\n    powerArray.push(currentPower);\n    context.set('powerArray', powerArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (powerArray.length > 10) {\n    powerArray.shift();\n}\n\n//หา median \nif (powerArray.length === 10) {\n    var sortedArray = powerArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianPower= sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    msg.payload = medianPower;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5540,
        "y": 2760,
        "wires": [
            [
                "7bb10c49bafa4cbe"
            ]
        ]
    },
    {
        "id": "7bb10c49bafa4cbe",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 113",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 5820,
        "y": 2760,
        "wires": []
    },
    {
        "id": "ee0b5b90ac25e602",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "400",
        "props": [
            {
                "p": "payload.power",
                "v": "400",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2820,
        "wires": [
            [
                "4501ce625e3fdc6e"
            ]
        ]
    },
    {
        "id": "71959018f45dfe62",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "-900",
        "props": [
            {
                "p": "payload.power",
                "v": "-900",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2880,
        "wires": [
            [
                "4501ce625e3fdc6e"
            ]
        ]
    },
    {
        "id": "fa5fb0c331472b6c",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "0",
        "props": [
            {
                "p": "payload.power",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 2940,
        "wires": [
            [
                "4501ce625e3fdc6e"
            ]
        ]
    },
    {
        "id": "68fa6cde46523bf4",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "2500",
        "props": [
            {
                "p": "payload.power",
                "v": "2500",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3000,
        "wires": [
            [
                "4501ce625e3fdc6e"
            ]
        ]
    },
    {
        "id": "040e6e2a0913cd4a",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "-1800",
        "props": [
            {
                "p": "payload.power",
                "v": "-1800",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3060,
        "wires": [
            [
                "4501ce625e3fdc6e"
            ]
        ]
    },
    {
        "id": "b3ad4a3ab346e0b4",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "1700",
        "props": [
            {
                "p": "payload.power",
                "v": "1700",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3100,
        "wires": [
            [
                "4501ce625e3fdc6e"
            ]
        ]
    },
    {
        "id": "265359199b051e59",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "cal_check_blockdataPower3-001",
        "func": "var powerArray = context.get('powerArray') || [];\n\nvar currentPower = msg.payload.power;\n\n\nif(currentPower != null && currentPower != undefined && !isNaN(currentPower)){\n    powerArray.push(currentPower);\n    context.set('powerArray', powerArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (powerArray.length > 10) {\n    powerArray.shift();\n}\n\n//หา median \nif (powerArray.length === 10) {\n    var sortedArray = powerArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianPower= sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    \n    var lowerBound = medianPower * -1.6;\n    var upperBound = medianPower * 1.6;\n    if (currentPower < lowerBound || currentPower > upperBound) {\n        return null;\n    } else {\n        powerArray.shift();\n        powerArray.push(currentPower);\n        context.set('powerArray', powerArray);\n        msg.payload = currentPower;\n        return msg;\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5580,
        "y": 2820,
        "wires": [
            [
                "8b70a09eace36631"
            ]
        ]
    },
    {
        "id": "0839e6d135cf6df9",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "null",
        "props": [
            {
                "p": "payload.power",
                "v": "null",
                "vt": "json"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3140,
        "wires": [
            [
                "4501ce625e3fdc6e"
            ]
        ]
    },
    {
        "id": "fac5a56245d73a15",
        "type": "link in",
        "z": "2ad8c2a186dad0d1",
        "name": "link in power2",
        "links": [
            "bdfc6315244c0543",
            "8dda9b3f89e6b073"
        ],
        "x": 5235,
        "y": 2660,
        "wires": [
            [
                "264be7e16a177398"
            ]
        ]
    },
    {
        "id": "592dcb6ad727fb7c",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link inject(out) power2",
        "mode": "link",
        "links": [],
        "x": 5455,
        "y": 2880,
        "wires": []
    },
    {
        "id": "4501ce625e3fdc6e",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 5250,
        "y": 2820,
        "wires": [
            [
                "592dcb6ad727fb7c",
                "9e0ed65f9d300dba",
                "7fcbd1647d53ca72",
                "265359199b051e59"
            ]
        ]
    },
    {
        "id": "264be7e16a177398",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 5250,
        "y": 2700,
        "wires": [
            [
                "9e0ed65f9d300dba",
                "7fcbd1647d53ca72",
                "265359199b051e59"
            ]
        ]
    },
    {
        "id": "d18aeccb23ee4384",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check Array income 10 value",
        "func": "var powerArray = context.get('powerArray') || [];\nvar currentPower = msg.payload.power;\n\nif(currentPower != null && currentPower != undefined && !isNaN(currentPower)){\n    powerArray.push(currentPower);\n    context.set('powerArray', powerArray);\n}else{\n    return null;\n}\n\nif (powerArray.length > 10) {\n    powerArray.shift();\n    \n}\n\nmsg.payload = powerArray;\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5560,
        "y": 3300,
        "wires": [
            [
                "eb1799fd98537564"
            ]
        ]
    },
    {
        "id": "c1ab3a8ee2423a88",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 114",
        "active": false,
        "tosidebar": true,
        "console": true,
        "tostatus": true,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "payload",
        "statusType": "auto",
        "x": 5850,
        "y": 3420,
        "wires": []
    },
    {
        "id": "eb1799fd98537564",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 115",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 5820,
        "y": 3300,
        "wires": []
    },
    {
        "id": "8c0a7fb81408d042",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "800",
        "props": [
            {
                "p": "payload.power",
                "v": "800",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3360,
        "wires": [
            [
                "deb6f34b4e7477d5"
            ]
        ]
    },
    {
        "id": "65e0bdbe5ab53bc0",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "600",
        "props": [
            {
                "p": "payload.power",
                "v": "600",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3300,
        "wires": [
            [
                "deb6f34b4e7477d5"
            ]
        ]
    },
    {
        "id": "2cc8be0bbe8cba69",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "check median value",
        "func": "var powerArray = context.get('powerArray') || [];\n\nvar currentPower = msg.payload.power;\n\n\nif(currentPower != null && currentPower != undefined && !isNaN(currentPower)){\n    powerArray.push(currentPower);\n    context.set('powerArray', powerArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (powerArray.length > 10) {\n    powerArray.shift();\n}\n\n//หา median \nif (powerArray.length === 10) {\n    var sortedArray = powerArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianPower= sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    msg.payload = medianPower;\n    return msg;\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5540,
        "y": 3360,
        "wires": [
            [
                "3d58beb31fb35379"
            ]
        ]
    },
    {
        "id": "3d58beb31fb35379",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 116",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 5820,
        "y": 3360,
        "wires": []
    },
    {
        "id": "bd9422829d4a9ad4",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "400",
        "props": [
            {
                "p": "payload.power",
                "v": "400",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3420,
        "wires": [
            [
                "deb6f34b4e7477d5"
            ]
        ]
    },
    {
        "id": "d3415a197239dba5",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "-900",
        "props": [
            {
                "p": "payload.power",
                "v": "-900",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3480,
        "wires": [
            [
                "deb6f34b4e7477d5"
            ]
        ]
    },
    {
        "id": "68e9e53444f997eb",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "0",
        "props": [
            {
                "p": "payload.power",
                "v": "0",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3540,
        "wires": [
            [
                "deb6f34b4e7477d5"
            ]
        ]
    },
    {
        "id": "4e418f258a358852",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "2500",
        "props": [
            {
                "p": "payload.power",
                "v": "2500",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3600,
        "wires": [
            [
                "deb6f34b4e7477d5"
            ]
        ]
    },
    {
        "id": "047a6d5c9668ff1f",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "-1800",
        "props": [
            {
                "p": "payload.power",
                "v": "-1800",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3660,
        "wires": [
            [
                "deb6f34b4e7477d5"
            ]
        ]
    },
    {
        "id": "6316754433e1ebd9",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "1700",
        "props": [
            {
                "p": "payload.power",
                "v": "1700",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3700,
        "wires": [
            [
                "deb6f34b4e7477d5"
            ]
        ]
    },
    {
        "id": "b21729f2b83f2d2f",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "cal_check_blockdataPower3-001",
        "func": "var powerArray = context.get('powerArray') || [];\n\nvar currentPower = msg.payload.power;\n\n\nif(currentPower != null && currentPower != undefined && !isNaN(currentPower)){\n    powerArray.push(currentPower);\n    context.set('powerArray', powerArray);\n}else{\n    return null;\n}\n\n// ให้ array มีขนาดไม่เกิน 10 ค่า\nif (powerArray.length > 10) {\n    powerArray.shift();\n}\n\n//หา median \nif (powerArray.length === 10) {\n    var sortedArray = powerArray.slice().sort((a, b) => a - b);\n    var middle = Math.floor(sortedArray.length / 2);\n    var medianPower= sortedArray.length % 2 === 0\n    ? (sortedArray[middle - 1] + sortedArray[middle]) / 2\n    : sortedArray[middle];\n\n    \n    var lowerBound = medianPower * -1.6;\n    var upperBound = medianPower * 1.6;\n    if (currentPower < lowerBound || currentPower > upperBound) {\n        return null;\n    } else {\n        powerArray.shift();\n        powerArray.push(currentPower);\n        context.set('powerArray', powerArray);\n        msg.payload = currentPower;\n        return msg;\n    }\n}",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 5580,
        "y": 3420,
        "wires": [
            [
                "c1ab3a8ee2423a88"
            ]
        ]
    },
    {
        "id": "d513c991bed56359",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "null",
        "props": [
            {
                "p": "payload.power",
                "v": "null",
                "vt": "json"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 3740,
        "wires": [
            [
                "deb6f34b4e7477d5"
            ]
        ]
    },
    {
        "id": "23e2943b8265024c",
        "type": "link in",
        "z": "2ad8c2a186dad0d1",
        "name": "link in power3",
        "links": [
            "804ca0727ecc03bf",
            "edf3bf9fb141bf55"
        ],
        "x": 5235,
        "y": 3260,
        "wires": [
            [
                "6d44995cb24cc919"
            ]
        ]
    },
    {
        "id": "2ba89513786f02cd",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link inject(out) power3",
        "mode": "link",
        "links": [],
        "x": 5455,
        "y": 3480,
        "wires": []
    },
    {
        "id": "deb6f34b4e7477d5",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 5250,
        "y": 3420,
        "wires": [
            [
                "2ba89513786f02cd",
                "d18aeccb23ee4384",
                "2cc8be0bbe8cba69",
                "b21729f2b83f2d2f"
            ]
        ]
    },
    {
        "id": "6d44995cb24cc919",
        "type": "switch",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "property": "payload",
        "propertyType": "msg",
        "rules": [
            {
                "t": "nempty"
            }
        ],
        "checkall": "true",
        "repair": false,
        "outputs": 1,
        "x": 5250,
        "y": 3300,
        "wires": [
            [
                "d18aeccb23ee4384",
                "2cc8be0bbe8cba69",
                "b21729f2b83f2d2f"
            ]
        ]
    },
    {
        "id": "71d23f65a3546d94",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "3",
        "props": [
            {
                "p": "payload.temp",
                "v": "3",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 340,
        "wires": [
            [
                "7195a46e61cb979f"
            ]
        ]
    },
    {
        "id": "14f90f103d71cf66",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "3.5",
        "props": [
            {
                "p": "payload.temp",
                "v": "3.5",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 380,
        "wires": [
            [
                "7195a46e61cb979f"
            ]
        ]
    },
    {
        "id": "d778c6bb65f4f952",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "3",
        "props": [
            {
                "p": "payload.temp",
                "v": "3",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1520,
        "wires": [
            [
                "26fabbb2cf837c3e"
            ]
        ]
    },
    {
        "id": "0b1343912368b5fc",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "3.5",
        "props": [
            {
                "p": "payload.temp",
                "v": "3.5",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1560,
        "wires": [
            [
                "26fabbb2cf837c3e"
            ]
        ]
    },
    {
        "id": "76e1e9aad1bbe7f4",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "3",
        "props": [
            {
                "p": "payload.temp",
                "v": "3",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 960,
        "wires": [
            [
                "1bbab67e17739f71"
            ]
        ]
    },
    {
        "id": "eefe056e516f7114",
        "type": "inject",
        "z": "2ad8c2a186dad0d1",
        "name": "3.5",
        "props": [
            {
                "p": "payload.temp",
                "v": "3.5",
                "vt": "num"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 4930,
        "y": 1000,
        "wires": [
            [
                "1bbab67e17739f71"
            ]
        ]
    },
    {
        "id": "8ab7530723866045",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link inject(out) temp2",
        "mode": "link",
        "links": [],
        "x": 5455,
        "y": 1060,
        "wires": []
    },
    {
        "id": "faa60f475eba4ec5",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of hum",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"humidity_1\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2290,
        "y": 320,
        "wires": [
            []
        ]
    },
    {
        "id": "b066026a5ebb47b5",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of hum",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"humidity_2\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2350,
        "y": 680,
        "wires": [
            []
        ]
    },
    {
        "id": "6b2c9d2006feae15",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of hum",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"humidity_3\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2330,
        "y": 1100,
        "wires": [
            []
        ]
    },
    {
        "id": "b9ab1511e6d0e071",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of power",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"power_1\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3020,
        "y": 1920,
        "wires": [
            []
        ]
    },
    {
        "id": "6c04cc3c130f3d7c",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of power",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"power_2\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 2760,
        "wires": [
            []
        ]
    },
    {
        "id": "f00f687a715af143",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of power",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"power_3\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 3660,
        "wires": [
            []
        ]
    },
    {
        "id": "c3ac8bcd82eb620b",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of power",
        "func": "var data=msg.payload.voltage;\nvar out={};\n\nout[\"voltage_1\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3020,
        "y": 1560,
        "wires": [
            []
        ]
    },
    {
        "id": "359654cf223d4643",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of power",
        "func": "var data=msg.payload.current;\nvar out={};\n\nout[\"current_1\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3020,
        "y": 1740,
        "wires": [
            []
        ]
    },
    {
        "id": "299f77997527a3c9",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of power",
        "func": "var data=msg.payload.voltage;\nvar out={};\n\nout[\"voltage_2\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 2300,
        "wires": [
            []
        ]
    },
    {
        "id": "6fe8559d2f81eebf",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of power",
        "func": "var data=msg.payload.current;\nvar out={};\n\nout[\"current_2\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 2500,
        "wires": [
            []
        ]
    },
    {
        "id": "1148c5fc061102c4",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of power",
        "func": "var data=msg.payload.voltage;\nvar out={};\n\nout[\"voltage_3\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 3200,
        "wires": [
            []
        ]
    },
    {
        "id": "d5348bcdbbd1fd5d",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of power",
        "func": "var data=msg.payload.current;\nvar out={};\n\nout[\"current_3\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3000,
        "y": 3420,
        "wires": [
            []
        ]
    },
    {
        "id": "3b92bb7ed0d73d8d",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 124",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2450,
        "y": 4700,
        "wires": []
    },
    {
        "id": "a1ee9c072e7d8d6a",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of hum",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"statusDevice\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2690,
        "y": 4760,
        "wires": [
            [
                "88820f4f68b41d7c",
                "d789053120bb40fb"
            ]
        ]
    },
    {
        "id": "8e673787cddea0f6",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 125",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2950,
        "y": 4940,
        "wires": []
    },
    {
        "id": "125026099ac7a084",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function time",
        "func": "var startTime = context.get('startTime');\nvar data = msg.payload;\n\nif (data !== 0){\n\n    startTime = startTime || new Date().getTime();\n    var elapsedTime = new Date().getTime() - startTime;\n    msg.payload = { uptimeInSeconds: elapsedTime / 1000 };\n    context.set('startTime', startTime);  // อัปเดต startTime ใน context\n    return msg;\n    \n}else{\n    return null\n}\n\n\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2630,
        "y": 4800,
        "wires": [
            [
                "88820f4f68b41d7c",
                "3ea755726eda9e11"
            ]
        ]
    },
    {
        "id": "88820f4f68b41d7c",
        "type": "join",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "mode": "custom",
        "build": "merged",
        "property": "payload",
        "propertyType": "msg",
        "key": "payload",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": true,
        "timeout": "",
        "count": "10",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "num",
        "reduceFixup": "",
        "x": 2920,
        "y": 4980,
        "wires": [
            [
                "8e673787cddea0f6",
                "4b0887f9abe74793"
            ]
        ]
    },
    {
        "id": "d789053120bb40fb",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 126",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 3150,
        "y": 4760,
        "wires": []
    },
    {
        "id": "3ea755726eda9e11",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 127",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2650,
        "y": 4840,
        "wires": []
    },
    {
        "id": "f0be369d51c2de1a",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 128",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3250,
        "y": 4940,
        "wires": []
    },
    {
        "id": "6c824f020579a4eb",
        "type": "comment",
        "z": "2ad8c2a186dad0d1",
        "name": "Device Status",
        "info": "",
        "x": 1910,
        "y": 4580,
        "wires": []
    },
    {
        "id": "ab3184bf6421b2f6",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 135",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1890,
        "y": 4760,
        "wires": []
    },
    {
        "id": "b94a25956bd738d3",
        "type": "trigger",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "30",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2450,
        "y": 4840,
        "wires": [
            [
                "125026099ac7a084",
                "a1ee9c072e7d8d6a"
            ]
        ]
    },
    {
        "id": "95b6d34a9659c791",
        "type": "mqtt in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/temp1",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0aec914a7a32d5b2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1870,
        "y": 4980,
        "wires": [
            [
                "41cd19ebf6f692fa",
                "f69877810d5dbac1",
                "ccee3a5304b0b262"
            ]
        ]
    },
    {
        "id": "2ee48480d5b1dc07",
        "type": "mqtt in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/hum1",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0aec914a7a32d5b2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1870,
        "y": 5520,
        "wires": [
            [
                "b27f252e4c306ed8",
                "f3cb72e536c0b8e6",
                "667ba456e2d525e2"
            ]
        ]
    },
    {
        "id": "41cd19ebf6f692fa",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 129",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1870,
        "y": 5060,
        "wires": []
    },
    {
        "id": "b27f252e4c306ed8",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 130",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1870,
        "y": 5600,
        "wires": []
    },
    {
        "id": "f69877810d5dbac1",
        "type": "trigger",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "30",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2090,
        "y": 5060,
        "wires": [
            [
                "7f1c9c4e759ecd0b"
            ]
        ]
    },
    {
        "id": "edb8dd89fe73d03e",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 131",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2630,
        "y": 5020,
        "wires": []
    },
    {
        "id": "f3cb72e536c0b8e6",
        "type": "trigger",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "30",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2090,
        "y": 5600,
        "wires": [
            [
                "aeb96bfa3f5b247e"
            ]
        ]
    },
    {
        "id": "e14772309ea0e61c",
        "type": "change",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.hum_status_1",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2630,
        "y": 5520,
        "wires": [
            [
                "f38947e68e3e4e0b",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "f38947e68e3e4e0b",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 132",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2630,
        "y": 5560,
        "wires": []
    },
    {
        "id": "acfe7b9236236b8d",
        "type": "mqtt in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/pow1",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0aec914a7a32d5b2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1850,
        "y": 6020,
        "wires": [
            [
                "68fc812cc2b8bf65",
                "2105e0f91b93957d",
                "c779b2fc1bfa5b44"
            ]
        ]
    },
    {
        "id": "68fc812cc2b8bf65",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 133",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1850,
        "y": 6100,
        "wires": []
    },
    {
        "id": "2105e0f91b93957d",
        "type": "trigger",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "30",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2070,
        "y": 6100,
        "wires": [
            [
                "5e613bb3f89f6012"
            ]
        ]
    },
    {
        "id": "7d1ad1dc11b56783",
        "type": "change",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.acpower_status_1",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2620,
        "y": 6020,
        "wires": [
            [
                "71116cd20da287ff",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "71116cd20da287ff",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 134",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2610,
        "y": 6060,
        "wires": []
    },
    {
        "id": "ccee3a5304b0b262",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of temp",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"temp_status_1\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2290,
        "y": 4980,
        "wires": [
            [
                "98380350b3978b64"
            ]
        ]
    },
    {
        "id": "98380350b3978b64",
        "type": "change",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.temp_status_1",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2630,
        "y": 4980,
        "wires": [
            [
                "edb8dd89fe73d03e",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "667ba456e2d525e2",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of hum",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"hum_status_1\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2290,
        "y": 5520,
        "wires": [
            [
                "e14772309ea0e61c"
            ]
        ]
    },
    {
        "id": "c779b2fc1bfa5b44",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of acpower",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"acpower_status_1\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2280,
        "y": 6020,
        "wires": [
            [
                "7d1ad1dc11b56783"
            ]
        ]
    },
    {
        "id": "7f1c9c4e759ecd0b",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of temp",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"temp_status_1\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2610,
        "y": 5060,
        "wires": [
            [
                "edb8dd89fe73d03e",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "aeb96bfa3f5b247e",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of hum",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"hum_status_1\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2610,
        "y": 5600,
        "wires": [
            [
                "f38947e68e3e4e0b",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "5e613bb3f89f6012",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of acpower",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"acpower_status_1\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2600,
        "y": 6100,
        "wires": [
            [
                "71116cd20da287ff",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "4b0887f9abe74793",
        "type": "trigger",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "op1": "",
        "op2": "",
        "op1type": "nul",
        "op2type": "payl",
        "duration": "5",
        "extend": false,
        "overrideDelay": false,
        "units": "s",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 3080,
        "y": 4980,
        "wires": [
            [
                "5e93fa222f6d2b77"
            ]
        ]
    },
    {
        "id": "5e93fa222f6d2b77",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 126",
        "func": "// Extract data from individual messages\nvar statusDevice = msg.payload.statusDevice;\nvar uptime = msg.payload.uptimeInSeconds;\n\nvar tempstatus_1 = msg.payload.temp_status_1;\nvar tempstatus_2 = msg.payload.temp_status_2;\nvar tempstatus_3 = msg.payload.temp_status_3;\n\nvar humstatus_1 = msg.payload.hum_status_1;\nvar humstatus_2 = msg.payload.hum_status_2;\nvar humstatus_3 = msg.payload.hum_status_3;\n\nvar powerstatus_1 = msg.payload.acpower_status_1;\nvar powerstatus_2 = msg.payload.acpower_status_2;\nvar powerstatus_3 = msg.payload.acpower_status_3;\n\n// Create the final payload\nvar result = {\n    statusDevice,\n    uptime,\n    \"statusTemp_1\": tempstatus_1 ,\n    \"statusTemp_2\": tempstatus_1 ,\n    \"statusTemp_3\": tempstatus_1 ,\n    \"statusHum_1\": humstatus_1,\n    \"statusHum_2\": humstatus_2,\n    \"statusHum_3\": humstatus_3,\n    \"statusPower_1\": powerstatus_1,\n    \"statusPower_2\": powerstatus_2,\n    \"statusPower_3\": powerstatus_3,\n        // Add more sensor data as needed\n    \n};\n\n// Set the final payload to be sent\nmsg.payload = result;\n\nreturn msg;\n",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 3250,
        "y": 4980,
        "wires": [
            [
                "f0be369d51c2de1a"
            ]
        ]
    },
    {
        "id": "f994a05d6b7a5d9d",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/pow1",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 3810,
        "y": 1960,
        "wires": []
    },
    {
        "id": "72446c3fb84831e9",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/pow2",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 3130,
        "y": 2900,
        "wires": []
    },
    {
        "id": "cf1cc6dd6ebcef6c",
        "type": "mqtt out",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/pow3",
        "qos": "",
        "retain": "",
        "respTopic": "",
        "contentType": "",
        "userProps": "",
        "correl": "",
        "expiry": "",
        "broker": "0aec914a7a32d5b2",
        "x": 3150,
        "y": 3780,
        "wires": []
    },
    {
        "id": "fba9a54d902f1a9d",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 139",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2830,
        "y": 1880,
        "wires": []
    },
    {
        "id": "8d7cccd653a53371",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 129",
        "func": "var currentPower = msg.payload.power;\nmsg.payload = currentPower;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2950,
        "y": 2060,
        "wires": [
            [
                "2f738c18bbd973ab"
            ]
        ]
    },
    {
        "id": "3ee2b5d67cee3c0f",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 130",
        "func": "var currentPower = msg.payload.power;\nmsg.payload = currentPower;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2930,
        "y": 2900,
        "wires": [
            [
                "72446c3fb84831e9"
            ]
        ]
    },
    {
        "id": "240870a9d3f161b3",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 131",
        "func": "var currentPower = msg.payload.power;\nmsg.payload = currentPower;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2950,
        "y": 3780,
        "wires": [
            [
                "cf1cc6dd6ebcef6c"
            ]
        ]
    },
    {
        "id": "cfa5e0a6cc239b0f",
        "type": "mqtt in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/temp2",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0aec914a7a32d5b2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1870,
        "y": 5160,
        "wires": [
            [
                "608fb33e4f228989",
                "c83ec748285e6022",
                "d25bd3b006e3f496"
            ]
        ]
    },
    {
        "id": "608fb33e4f228989",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 140",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1870,
        "y": 5240,
        "wires": []
    },
    {
        "id": "c83ec748285e6022",
        "type": "trigger",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "30",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2090,
        "y": 5240,
        "wires": [
            [
                "c925fa9d3250d7a0"
            ]
        ]
    },
    {
        "id": "62f306e221063751",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 141",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2630,
        "y": 5200,
        "wires": []
    },
    {
        "id": "d25bd3b006e3f496",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of temp",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"temp_status_2\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2290,
        "y": 5160,
        "wires": [
            [
                "8023eb85c2ce0d8c"
            ]
        ]
    },
    {
        "id": "8023eb85c2ce0d8c",
        "type": "change",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.temp_status_2",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2630,
        "y": 5160,
        "wires": [
            [
                "62f306e221063751",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "c925fa9d3250d7a0",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of temp",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"temp_status_2\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2610,
        "y": 5240,
        "wires": [
            [
                "62f306e221063751",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "6d0e7617b0adb237",
        "type": "mqtt in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/temp3",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0aec914a7a32d5b2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1870,
        "y": 5340,
        "wires": [
            [
                "f5170fa6238990ff",
                "24b1221b9f0e54c4",
                "d281dd2c76059328"
            ]
        ]
    },
    {
        "id": "f5170fa6238990ff",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 142",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1870,
        "y": 5420,
        "wires": []
    },
    {
        "id": "24b1221b9f0e54c4",
        "type": "trigger",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "30",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2090,
        "y": 5420,
        "wires": [
            [
                "c1ae515074243a1f"
            ]
        ]
    },
    {
        "id": "a7202d59eb9205de",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 143",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2630,
        "y": 5380,
        "wires": []
    },
    {
        "id": "d281dd2c76059328",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of temp",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"temp_status_3\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2290,
        "y": 5340,
        "wires": [
            [
                "889b1771142e9977"
            ]
        ]
    },
    {
        "id": "889b1771142e9977",
        "type": "change",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.temp_status_3",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2630,
        "y": 5340,
        "wires": [
            [
                "a7202d59eb9205de",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "c1ae515074243a1f",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of temp",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"temp_status_3\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2610,
        "y": 5420,
        "wires": [
            [
                "a7202d59eb9205de",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "2587e91d3201a1ec",
        "type": "mqtt in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/hum2",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0aec914a7a32d5b2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1870,
        "y": 5680,
        "wires": [
            [
                "b426ea9f922e372c",
                "cc7364bbf4c454c0",
                "6e08debf7dcbd410"
            ]
        ]
    },
    {
        "id": "b426ea9f922e372c",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 144",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1870,
        "y": 5760,
        "wires": []
    },
    {
        "id": "cc7364bbf4c454c0",
        "type": "trigger",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "30",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2090,
        "y": 5760,
        "wires": [
            [
                "7c21be1a7453ae4f"
            ]
        ]
    },
    {
        "id": "9472217b00f4244a",
        "type": "change",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.hum_status_2",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2630,
        "y": 5680,
        "wires": [
            [
                "0eeec07c48cd3e9a",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "0eeec07c48cd3e9a",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 145",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2630,
        "y": 5720,
        "wires": []
    },
    {
        "id": "6e08debf7dcbd410",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of hum",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"hum_status_2\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2290,
        "y": 5680,
        "wires": [
            [
                "9472217b00f4244a"
            ]
        ]
    },
    {
        "id": "7c21be1a7453ae4f",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of hum",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"hum_status_2\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2610,
        "y": 5760,
        "wires": [
            [
                "0eeec07c48cd3e9a",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "64b112b324810ad9",
        "type": "mqtt in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/hum3",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0aec914a7a32d5b2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1870,
        "y": 5840,
        "wires": [
            [
                "fa9d07d589b3e10a",
                "0375b2702f252863",
                "971f88a045c92f09"
            ]
        ]
    },
    {
        "id": "fa9d07d589b3e10a",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 146",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1870,
        "y": 5920,
        "wires": []
    },
    {
        "id": "0375b2702f252863",
        "type": "trigger",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "30",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2090,
        "y": 5920,
        "wires": [
            [
                "32643ccf60311508"
            ]
        ]
    },
    {
        "id": "7bcd7c5026878937",
        "type": "change",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.hum_status_3",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2630,
        "y": 5840,
        "wires": [
            [
                "243935fb327e7b99",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "243935fb327e7b99",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 147",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2630,
        "y": 5880,
        "wires": []
    },
    {
        "id": "971f88a045c92f09",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of hum",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"hum_status_3\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2290,
        "y": 5840,
        "wires": [
            [
                "7bcd7c5026878937"
            ]
        ]
    },
    {
        "id": "32643ccf60311508",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of hum",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"hum_status_3\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2610,
        "y": 5920,
        "wires": [
            [
                "243935fb327e7b99",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "c6308b4b0e7c068b",
        "type": "mqtt in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/pow2",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0aec914a7a32d5b2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1850,
        "y": 6200,
        "wires": [
            [
                "49759d79d9807786",
                "a65b4c8c61784976",
                "a8f321e264e5815f"
            ]
        ]
    },
    {
        "id": "49759d79d9807786",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 148",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1850,
        "y": 6280,
        "wires": []
    },
    {
        "id": "a65b4c8c61784976",
        "type": "trigger",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "30",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2070,
        "y": 6280,
        "wires": [
            [
                "315fb6034a52ccc3"
            ]
        ]
    },
    {
        "id": "8f43ea1b7fe33bd2",
        "type": "change",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.acpower_status_2",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2620,
        "y": 6200,
        "wires": [
            [
                "0aff3efb0ad7512b",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "0aff3efb0ad7512b",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 149",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2610,
        "y": 6240,
        "wires": []
    },
    {
        "id": "a8f321e264e5815f",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of acpower",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"acpower_status_2\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2280,
        "y": 6200,
        "wires": [
            [
                "8f43ea1b7fe33bd2"
            ]
        ]
    },
    {
        "id": "315fb6034a52ccc3",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of acpower",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"acpower_status_2\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2600,
        "y": 6280,
        "wires": [
            [
                "0aff3efb0ad7512b",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "ce9e7627010a54e6",
        "type": "mqtt in",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "topic": "btg_vc/pow3",
        "qos": "2",
        "datatype": "auto-detect",
        "broker": "0aec914a7a32d5b2",
        "nl": false,
        "rap": true,
        "rh": 0,
        "inputs": 0,
        "x": 1850,
        "y": 6400,
        "wires": [
            [
                "aa88d9e1e8dd9738",
                "47faf4c7c7aba552",
                "ca1fafa8008ff858"
            ]
        ]
    },
    {
        "id": "aa88d9e1e8dd9738",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 150",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1850,
        "y": 6480,
        "wires": []
    },
    {
        "id": "47faf4c7c7aba552",
        "type": "trigger",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "op1": "",
        "op2": "0",
        "op1type": "nul",
        "op2type": "str",
        "duration": "30",
        "extend": true,
        "overrideDelay": false,
        "units": "min",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 2070,
        "y": 6480,
        "wires": [
            [
                "abb296516eb10c33"
            ]
        ]
    },
    {
        "id": "120d9a20a991f2ad",
        "type": "change",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload.acpower_status_3",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2620,
        "y": 6400,
        "wires": [
            [
                "1b493c18f47b756a",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "1b493c18f47b756a",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 151",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2610,
        "y": 6440,
        "wires": []
    },
    {
        "id": "ca1fafa8008ff858",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of acpower",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"acpower_status_3\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2280,
        "y": 6400,
        "wires": [
            [
                "120d9a20a991f2ad"
            ]
        ]
    },
    {
        "id": "abb296516eb10c33",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "Change number to topic of acpower",
        "func": "var data=msg.payload;\nvar out={};\n\nout[\"acpower_status_3\"]= data\n\nmsg.payload = out;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2600,
        "y": 6480,
        "wires": [
            [
                "1b493c18f47b756a",
                "88820f4f68b41d7c"
            ]
        ]
    },
    {
        "id": "91319dab0cf7eb1f",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 241",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2730,
        "y": 3640,
        "wires": []
    },
    {
        "id": "1ccf1afaf94bc253",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link temp&humi2 out",
        "mode": "link",
        "links": [
            "cf41eda379a5e147"
        ],
        "x": 1865,
        "y": 820,
        "wires": []
    },
    {
        "id": "8d02eed73d34ad4c",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link temp&humi3 out",
        "mode": "link",
        "links": [
            "fd4709fad167cb9f"
        ],
        "x": 1845,
        "y": 1240,
        "wires": []
    },
    {
        "id": "14294df13abbc63a",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link elec1 out",
        "mode": "link",
        "links": [
            "70b05a7119e23c4d"
        ],
        "x": 2385,
        "y": 1740,
        "wires": []
    },
    {
        "id": "039aba892874db87",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link elec2 out",
        "mode": "link",
        "links": [
            "721bc16413bf469e",
            "9528696cae13bb6d"
        ],
        "x": 2365,
        "y": 2500,
        "wires": []
    },
    {
        "id": "3a645f07ea4238d0",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link elec3 out",
        "mode": "link",
        "links": [
            "22c9a18ed483c001",
            "8ea08e21b35c5b57"
        ],
        "x": 2335,
        "y": 3420,
        "wires": []
    },
    {
        "id": "c882b973f0ffad43",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 310",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3410,
        "y": 460,
        "wires": []
    },
    {
        "id": "fcdc6cca466ac8ee",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 311",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3390,
        "y": 820,
        "wires": []
    },
    {
        "id": "bc04b8fe6c471315",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 312",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 3370,
        "y": 1240,
        "wires": []
    },
    {
        "id": "78aa9b75a7ea0808",
        "type": "debug",
        "z": "2ad8c2a186dad0d1",
        "name": "debug 313",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 2070,
        "y": 840,
        "wires": []
    },
    {
        "id": "c1269babb7e70dde",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "temp",
        "func": "var data=msg.payload;\nvar out={};\nif (data[5] == 65280)\n{ \nout[\"temp\"]= -data[6] /10;\n}\nif (data[5] == 0)\n{\nout[\"temp\"]=  data[6]/10;\n}\nmsg.payload = out;\ncontext.set('temperatureArray', out.temp);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2070,
        "y": 900,
        "wires": [
            [
                "8abd79a2f3445d83",
                "cf5f73cbebd1eb78",
                "77a498c8b0c93d12"
            ]
        ]
    },
    {
        "id": "bc95c47d7e513018",
        "type": "python-function-ps",
        "z": "2ad8c2a186dad0d1",
        "name": "Current(0C)",
        "pythonPathType": "local",
        "pythonPath": "python3",
        "globalPythonName": "",
        "importPathList": [
            "/home/pi/Modbus_RTU_Relay_Code/Python3"
        ],
        "fnCodePre": "\n# user code here.\n",
        "fnCode": "\nimport time\n    \ncmd = [0, 0, 0, 0, 0, 0, 0, 0]\n\ncmd[0] = 0x02  #Device address 0c,1c,2c,3c,4c\ncmd[1] = 0x03  #command   \ncmd[2] = 0\ncmd[3] = 0\ncmd[4] = 0\ncmd[5] = 0x02\n#crc = pycrc.ModbusCRC(cmd[0:5])\n##cmd[6] = crc & 0xFF\n#cmd[7] = crc >> 8\nprint (cmd)\ntime.sleep(0.2)\nmsg[\"payload\"] = cmd        \nreturn msg\n",
        "fnCodePost": "\n# user code here.\n",
        "x": 1330,
        "y": 900,
        "wires": [
            [
                "1d3f89dbb657b2c1"
            ]
        ]
    },
    {
        "id": "458779e535e75f3f",
        "type": "python-function-ps",
        "z": "2ad8c2a186dad0d1",
        "name": "Current(0C)",
        "pythonPathType": "local",
        "pythonPath": "python3",
        "globalPythonName": "",
        "importPathList": [
            "/home/pi/Modbus_RTU_Relay_Code/Python3"
        ],
        "fnCodePre": "\n# user code here.\n",
        "fnCode": "\nimport time\n    \ncmd = [0, 0, 0, 0, 0, 0, 0, 0]\n\ncmd[0] = 0x01  #Device address 0c,1c,2c,3c,4c\ncmd[1] = 0x03  #command   \ncmd[2] = 0\ncmd[3] = 0\ncmd[4] = 0\ncmd[5] = 0x02\n#crc = pycrc.ModbusCRC(cmd[0:5])\n##cmd[6] = crc & 0xFF\n#cmd[7] = crc >> 8\nprint (cmd)\ntime.sleep(0.2)\nmsg[\"payload\"] = cmd        \nreturn msg\n",
        "fnCodePost": "\n# user code here.\n",
        "x": 990,
        "y": 620,
        "wires": [
            []
        ]
    },
    {
        "id": "1753b9104c91d8f3",
        "type": "python-function-ps",
        "z": "2ad8c2a186dad0d1",
        "name": "Current(0C)",
        "pythonPathType": "local",
        "pythonPath": "python3",
        "globalPythonName": "",
        "importPathList": [
            "/home/pi/Modbus_RTU_Relay_Code/Python3"
        ],
        "fnCodePre": "\n# user code here.\n",
        "fnCode": "\nimport time\n    \ncmd = [0, 0, 0, 0, 0, 0, 0, 0]\n\ncmd[0] = 0x03  #Device address 0c,1c,2c,3c,4c\ncmd[1] = 0x03  #command   \ncmd[2] = 0\ncmd[3] = 0\ncmd[4] = 0\ncmd[5] = 0x02\n#crc = pycrc.ModbusCRC(cmd[0:5])\n##cmd[6] = crc & 0xFF\n#cmd[7] = crc >> 8\nprint (cmd)\ntime.sleep(0.2)\nmsg[\"payload\"] = cmd        \nreturn msg\n",
        "fnCodePost": "\n# user code here.\n",
        "x": 1310,
        "y": 1320,
        "wires": [
            [
                "5843ca5909592d07"
            ]
        ]
    },
    {
        "id": "9689f05188be3fbb",
        "type": "link out",
        "z": "2ad8c2a186dad0d1",
        "name": "link temp&humi1 out",
        "mode": "link",
        "links": [
            "0ec5a2b872976c78"
        ],
        "x": 1885,
        "y": 420,
        "wires": []
    },
    {
        "id": "eb084ae45ff2b4ae",
        "type": "modbus-crc16",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "x": 1460,
        "y": 540,
        "wires": [
            [
                "f97f45e4dfa8f937"
            ]
        ]
    },
    {
        "id": "f97f45e4dfa8f937",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 132",
        "func": "msg.payload = Buffer.from(msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1650,
        "y": 540,
        "wires": [
            [
                "4b04da25e66ec771"
            ]
        ]
    },
    {
        "id": "4b04da25e66ec771",
        "type": "serial request",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "serial": "9d01c0808e829406",
        "x": 1820,
        "y": 540,
        "wires": [
            [
                "9689f05188be3fbb",
                "bab86df3b4bf36c2",
                "bc95c47d7e513018",
                "e5e0828a4214b60c",
                "5abef1abfaf53b07"
            ]
        ]
    },
    {
        "id": "e5e0828a4214b60c",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "temp",
        "func": "var data=msg.payload;\nvar out={};\nif (data[5] == 65280)\n{ \nout[\"temp\"]= -data[6] /10;\n}\nif (data[5] == 0)\n{\nout[\"temp\"]=  data[6]/10;\n}\nmsg.payload = out;\ncontext.set('temperatureArray', out.temp);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2030,
        "y": 540,
        "wires": [
            [
                "799ec8520e91568a",
                "8ac53c58d4551e08",
                "096e344301c6d29f"
            ]
        ]
    },
    {
        "id": "4caa2f5018673282",
        "type": "modbus-crc16",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "x": 760,
        "y": 720,
        "wires": [
            [
                "ba4cdd78320e899a"
            ]
        ]
    },
    {
        "id": "ba4cdd78320e899a",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "function 133",
        "func": "msg.payload = Buffer.from(msg.payload);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 950,
        "y": 720,
        "wires": [
            [
                "db725d9f3edfcd97"
            ]
        ]
    },
    {
        "id": "db725d9f3edfcd97",
        "type": "serial request",
        "z": "2ad8c2a186dad0d1",
        "name": "",
        "serial": "9d01c0808e829406",
        "x": 1120,
        "y": 720,
        "wires": [
            [
                "23a4b49fc5263c99"
            ]
        ]
    },
    {
        "id": "23a4b49fc5263c99",
        "type": "function",
        "z": "2ad8c2a186dad0d1",
        "name": "temp",
        "func": "var data=msg.payload;\nvar out={};\nif (data[5] == 65280)\n{ \nout[\"temp\"]= -data[6] /10;\n}\nif (data[5] == 0)\n{\nout[\"temp\"]=  data[6]/10;\n}\nmsg.payload = out;\ncontext.set('temperatureArray', out.temp);\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1310,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "75dd582243c0aaf7",
        "type": "python-function-ps",
        "z": "2ad8c2a186dad0d1",
        "name": "Current(0C)",
        "pythonPathType": "local",
        "pythonPath": "python3",
        "globalPythonName": "",
        "importPathList": [
            "/home/pi/Modbus_RTU_Relay_Code/Python3"
        ],
        "fnCodePre": "\n# user code here.\n",
        "fnCode": "\nimport time\n    \ncmd = [0, 0, 0, 0, 0, 0, 0, 0]\n\ncmd[0] = 0x01  #Device address 0c,1c,2c,3c,4c\ncmd[1] = 0x03  #command   \ncmd[2] = 0\ncmd[3] = 0\ncmd[4] = 0\ncmd[5] = 0x02\n#crc = pycrc.ModbusCRC(cmd[0:5])\n##cmd[6] = crc & 0xFF\n#cmd[7] = crc >> 8\nprint (cmd)\ntime.sleep(0.2)\nmsg[\"payload\"] = cmd        \nreturn msg\n",
        "fnCodePost": "\n# user code here.\n",
        "x": 1270,
        "y": 540,
        "wires": [
            [
                "eb084ae45ff2b4ae"
            ]
        ]
    },
    {
        "id": "35bdc2c895af1a09",
        "type": "serial-port",
        "serialport": "/dev/ttyUSB2",
        "serialbaud": "115200",
        "databits": "8",
        "parity": "none",
        "stopbits": "1",
        "waitfor": "",
        "dtr": "none",
        "rts": "none",
        "cts": "none",
        "dsr": "none",
        "newline": "\\n",
        "bin": "false",
        "out": "char",
        "addchar": "",
        "responsetimeout": "10000"
    },
    {
        "id": "0aec914a7a32d5b2",
        "type": "mqtt-broker",
        "name": "",
        "broker": "203.151.152.87",
        "port": "3002",
        "clientid": "",
        "autoConnect": true,
        "usetls": false,
        "protocolVersion": "4",
        "keepalive": "60",
        "cleansession": true,
        "autoUnsubscribe": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthRetain": "false",
        "birthPayload": "",
        "birthMsg": {},
        "closeTopic": "",
        "closeQos": "0",
        "closeRetain": "false",
        "closePayload": "",
        "closeMsg": {},
        "willTopic": "",
        "willQos": "0",
        "willRetain": "false",
        "willPayload": "",
        "willMsg": {},
        "userProps": "",
        "sessionExpiry": ""
    },
    {
        "id": "9d01c0808e829406",
        "type": "serial-port",
        "serialport": "/dev/ttyS0",
        "serialbaud": "9600",
        "databits": "8",
        "parity": "none",
        "stopbits": "1",
        "waitfor": "",
        "dtr": "none",
        "rts": "none",
        "cts": "none",
        "dsr": "none",
        "newline": "\\n",
        "bin": "bin",
        "out": "char",
        "addchar": "",
        "responsetimeout": "100"
    }
]